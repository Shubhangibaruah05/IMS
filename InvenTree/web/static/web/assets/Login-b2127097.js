import{R as v,r as _e,j as e,T as c,u as Ce}from"./vendor-44a51bcb.js";import{c as Se,r as n,t as m,Z as T,a as we,j as Pe,s as Oe,k as Ie,A as K,H as Q,i as f,P as Te,d as _,G as j,_ as X,$ as ee,a0 as ze,J as W,B as Le,a1 as ke,Q as Ee,a2 as $e,f as M,a3 as Ae,C as Ve}from"./index-519700e6.js";import{I as B,b as F,a as se,E as te,D as Me,T as L,S as De}from"./EditButton-c3942864.js";function We(s){return typeof s!="string"?"":s.charAt(0).toUpperCase()+s.slice(1)}const Fe=({reveal:s,size:r})=>v.createElement("svg",{width:r,height:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v.createElement("path",{d:s?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}));var He=Object.defineProperty,Ne=Object.defineProperties,Re=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,Ze=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Y=(s,r,t)=>r in s?He(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,D=(s,r)=>{for(var t in r||(r={}))Ze.call(r,t)&&Y(s,t,r[t]);if(U)for(var t of U(r))qe.call(r,t)&&Y(s,t,r[t]);return s},G=(s,r)=>Ne(s,Re(r)),Be=Se((s,{rightSectionWidth:r},{size:t})=>({visibilityToggle:{},input:{position:"relative",overflow:"hidden"},innerInput:G(D(D({},s.fn.fontStyles()),s.fn.cover(0)),{backgroundColor:"transparent",border:`${n(1)} solid transparent`,borderLeftWidth:0,borderRightWidth:0,boxSizing:"border-box",display:"block",width:`calc(100% - ${n(r)})`,paddingLeft:`calc(${m({size:t,sizes:T})}  / 3)`,fontSize:m({size:t,sizes:s.fontSizes}),height:`calc(${m({size:t,sizes:T})} - ${n(2)})`,lineHeight:`calc(${m({size:t,sizes:T})} - ${n(4)})`,color:s.colorScheme==="dark"?s.colors.dark[0]:s.black,"&::-ms-reveal, &::-ms-clear":{display:"none"},"&:focus":{outline:0},"&:disabled":{cursor:"not-allowed",pointerEvents:"none",backgroundColor:s.colorScheme==="dark"?s.colors.dark[6]:s.colors.gray[1],color:s.colors.dark[2],opacity:.6,"&::placeholder":{color:s.colors.dark[2]}},"&::placeholder":G(D({},s.fn.placeholderStyles()),{opacity:1}),"&[data-invalid]":{color:s.fn.variant({variant:"filled",color:"red"}).background,"&::placeholder":{opacity:1,color:s.fn.variant({variant:"filled",color:"red"}).background}},"&[data-with-icon]":{paddingLeft:m({size:t,sizes:T})}})}));const Ue=Be;var Ye=Object.defineProperty,Ge=Object.defineProperties,Je=Object.getOwnPropertyDescriptors,k=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,J=(s,r,t)=>r in s?Ye(s,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[r]=t,z=(s,r)=>{for(var t in r||(r={}))re.call(r,t)&&J(s,t,r[t]);if(k)for(var t of k(r))ie.call(r,t)&&J(s,t,r[t]);return s},Ke=(s,r)=>Ge(s,Je(r)),Qe=(s,r)=>{var t={};for(var o in s)re.call(s,o)&&r.indexOf(o)<0&&(t[o]=s[o]);if(s!=null&&k)for(var o of k(s))r.indexOf(o)<0&&ie.call(s,o)&&(t[o]=s[o]);return t};const Xe={xs:n(22),sm:n(26),md:n(28),lg:n(32),xl:n(40)},es={xs:n(12),sm:n(15),md:n(17),lg:n(19),xl:n(21)},ss={xs:n(28),sm:n(32),md:n(34),lg:n(44),xl:n(54)},ts={size:"sm",toggleTabIndex:-1,visibilityToggleIcon:Fe,__staticSelector:"PasswordInput"},ae=_e.forwardRef((s,r)=>{const t=we("PasswordInput",ts,s),{radius:o,disabled:d,size:l,toggleTabIndex:g,className:h,id:b,label:x,error:a,required:p,style:u,icon:P,description:E,wrapperProps:$,classNames:C,styles:S,variant:w,visibilityToggleIcon:i,__staticSelector:y,rightSection:H,rightSectionWidth:ns,rightSectionProps:ls,sx:oe,labelProps:ne,descriptionProps:le,errorProps:de,unstyled:O,visibilityToggleLabel:N,withAsterisk:ce,inputContainer:pe,iconWidth:ue,inputWrapperOrder:ge,visible:he,defaultVisible:me,onVisibilityChange:xe}=t,ve=Qe(t,["radius","disabled","size","toggleTabIndex","className","id","label","error","required","style","icon","description","wrapperProps","classNames","styles","variant","visibilityToggleIcon","__staticSelector","rightSection","rightSectionWidth","rightSectionProps","sx","labelProps","descriptionProps","errorProps","unstyled","visibilityToggleLabel","withAsterisk","inputContainer","iconWidth","inputWrapperOrder","visible","defaultVisible","onVisibilityChange"]),R=m({size:l,sizes:ss}),{classes:A}=Ue({rightSectionWidth:R},{name:"PasswordInput",classNames:C,styles:S,unstyled:O,size:l,variant:w}),Z=Pe(b),{systemStyles:fe,rest:je}=Oe(ve),[V,be]=Ie({value:he,defaultValue:me,finalValue:!1,onChange:xe}),q=()=>be(!V),ye=v.createElement(K,{className:A.visibilityToggle,tabIndex:g,radius:o,size:m({size:l,sizes:Xe}),"aria-hidden":!N,"aria-label":N,unstyled:O,onMouseDown:I=>{I.preventDefault(),q()},onKeyDown:I=>{I.key===" "&&(I.preventDefault(),q())}},v.createElement(i,{reveal:V,size:m({size:l,sizes:es})}));return v.createElement(B.Wrapper,z(z({required:p,id:Z,label:x,error:a,description:E,size:l,className:h,style:u,classNames:C,styles:S,__staticSelector:y,sx:oe,errorProps:de,descriptionProps:le,labelProps:ne,unstyled:O,withAsterisk:ce,inputWrapperOrder:ge,inputContainer:pe,variant:w},fe),$),v.createElement(B,{component:"div",error:a,icon:P,size:l,classNames:Ke(z({},C),{input:A.input}),styles:S,radius:o,disabled:d,__staticSelector:y,rightSectionWidth:R,rightSection:!d&&ye,variant:w,unstyled:O,iconWidth:ue},v.createElement("input",z({type:V?"text":"password",required:p,"data-invalid":!!a||void 0,"data-with-icon":!!P||void 0,className:A.innerInput,disabled:d,id:Z,ref:r},je))))});ae.displayName="@mantine/core/PasswordInput";var rs=Q("square-plus","IconSquarePlus",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 12l6 0",key:"svg-1"}],["path",{d:"M12 9l0 6",key:"svg-2"}]]),is=Q("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);function as({Login:s,Register:r,hostname:t,lastUsername:o,editing:d,setEditing:l,selectElement:g}){const[h,b]=F(["login","register"]),x=h==="login"?f._({id:"jdbeGb"}):f._({id:"Phg8Hk"}),a=se({initialValues:{email:o,name:"",password:"",terms:!1}}),p=()=>{h==="login"?s(a.values.email,a.values.password):r(a.values.name,a.values.email,a.values.password)};return e.jsxs(Te,{radius:"md",p:"xl",withBorder:!0,children:[e.jsxs(_,{size:"lg",weight:500,children:[e.jsx(c,{id:"JrBnCJ",values:{actionname:x}}),e.jsxs(j,{children:[d?g:t,te(l,d)]})]}),e.jsx(X,{children:e.jsx(j,{grow:!0,mb:"md",mt:"md",children:e.jsx(_,{children:e.jsx(c,{id:"hx1ePY"})})})}),e.jsx(Me,{label:e.jsx(c,{id:"g87ZP7"}),labelPosition:"center",my:"lg"}),e.jsxs("form",{onSubmit:a.onSubmit(()=>{p()}),children:[e.jsxs(ee,{children:[h==="register"&&e.jsx(L,{label:e.jsx(c,{id:"6YtxFj"}),placeholder:f._({id:"q8yluz"}),value:a.values.name,onChange:u=>a.setFieldValue("name",u.currentTarget.value)}),e.jsx(L,{required:!0,label:e.jsx(c,{id:"7sNhEz"}),placeholder:"hello@mantine.dev",value:a.values.email,onChange:u=>a.setFieldValue("email",u.currentTarget.value),error:a.errors.email&&e.jsx(c,{id:"B2Tpo0"})}),e.jsx(ae,{required:!0,label:e.jsx(c,{id:"8ZsakT"}),placeholder:f._({id:"9TO8nT"}),value:a.values.password,onChange:u=>a.setFieldValue("password",u.currentTarget.value),error:a.errors.password&&e.jsx(c,{id:"vz42/T"})})]}),e.jsxs(j,{position:"apart",mt:"xl",children:[e.jsx(ze,{component:"button",type:"button",color:"dimmed",onClick:()=>b(),size:"xs",children:h==="register"?e.jsx(c,{id:"3xHmj+"}):e.jsx(c,{id:"L5ridO"})}),e.jsx(W,{type:"submit",children:We(x)})]})]})]})}function os({data:s,saveOptions:r}){const t=se({initialValues:s});function o(l){const g=t.values;delete g[l],t.setValues(g)}const d=Object.entries(t.values).map(([l])=>e.jsx(j,{mt:"xs",children:t.values[l]!==void 0&&e.jsxs(e.Fragment,{children:[e.jsx(L,{placeholder:f._({id:"Ai2U7L"}),withAsterisk:!0,sx:{flex:1},...t.getInputProps(`${l}.host`)}),e.jsx(L,{placeholder:f._({id:"6YtxFj"}),withAsterisk:!0,sx:{flex:1},...t.getInputProps(`${l}.name`)}),e.jsx(K,{color:"red",onClick:()=>{o(l)},children:e.jsx(is,{})})]})},l));return e.jsx("form",{onSubmit:t.onSubmit(r),children:e.jsxs(Le,{sx:{maxWidth:500},mx:"auto",children:[d.length>0?e.jsxs(j,{mb:"xs",children:[e.jsx(_,{weight:500,size:"sm",sx:{flex:1},children:e.jsx(c,{id:"Ai2U7L"})}),e.jsx(_,{weight:500,size:"sm",sx:{flex:1},children:e.jsx(c,{id:"6YtxFj"})})]}):e.jsx(_,{color:"dimmed",align:"center",children:e.jsx(c,{id:"yWMzcH"})}),d,e.jsxs(j,{mt:"md",children:[e.jsxs(W,{onClick:()=>t.setFieldValue(`${ke()}`,{name:"",host:""}),children:[e.jsx(rs,{}),e.jsx(c,{id:"UYWLpE"})]}),e.jsx(Ee,{sx:{flex:1}}),e.jsx(W,{type:"submit",children:e.jsx(c,{id:"tfDRzk"})})]})]})})}function us(){const{handleLogin:s}=$e(),r=Ce(),[t,o,d,l]=M(i=>[i.hostKey,i.setHost,i.hostList,i.lastUsername]),[g]=Ae(i=>[i.fetchApiState]),h=d[t]===void 0?f._({id:"bX1aQ5"}):d[t].name,[b,x]=F([!1,!0]),a=Object.keys(d).map(i=>({value:i,label:d[i].name})),[p,u]=F([!1,!0]);function P(i){o(d[i].host,i),x(!1)}function E(i){M.setState({hostList:i}),i[t]===void 0&&o("",""),u()}function $(i,y){s(i,y).then(()=>{M.setState({lastUsername:i}),r("/")}),g()}function C(i,y,H){console.log("Registering is not implemented yet"),console.log(i,y,H)}function S(){return b?e.jsxs(j,{children:[e.jsx(De,{value:t,onChange:P,data:a,disabled:p}),te(u,p,p)]}):null}function w(){return p?e.jsxs(e.Fragment,{children:[e.jsx(_,{children:e.jsx(c,{id:"AA2j+t"})}),e.jsx(os,{data:d,saveOptions:E})]}):null}return e.jsx(X,{mih:"100vh",children:e.jsx(Ve,{w:"md",miw:400,children:e.jsxs(ee,{children:[e.jsx(w,{}),!p&&e.jsx(as,{Login:$,Register:C,hostname:h,lastUsername:l,editing:b,setEditing:x,selectElement:e.jsx(S,{})})]})})})}export{us as default};
