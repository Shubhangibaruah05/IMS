import{r as d,j as e,a4 as f,aK as n,S as j,z as h}from"./vendor-C5fHLTDD.js";import{A as s,i as r,M as l,U as g,l as k}from"./index-DX4YmBvQ.js";import{I,D as a}from"./ItemDetails-DTEWr5C0.js";import{D as P}from"./DetailsImage-Y3z_v9dS.js";import{P as A}from"./PageDetail-BwkjpKwR.js";import{P as D}from"./PanelGroup-CWuySmV8.js";import{N as F}from"./MarkdownEditor-CY0oiYAG.js";import{u as U}from"./UseInstance-rwUPjJ4i.js";import{A as C}from"./AttachmentTable-AC0GadOO.js";import{d as E}from"./DesktopAppView-DlNUv0Ur.js";import{I as N}from"./IconInfoCircle-D5K91YCo.js";import{x as S,f as v,g as K}from"./ApiForm-Dtyf-xF2.js";import"./InvenTreeTable-LkhQVMZE.js";import"./ActionButton-seel8ZoK.js";import"./notifications-DM-9a7Is.js";import"./ModelType-C8nSW6qW.js";import"./StylishText-CD9I8-X7.js";import"./IconEdit-DwKL16RF.js";import"./IconTrash-KFql82qv.js";import"./BaseContext-BGXKB9QI.js";import"./IconSearch-CKaD9XHL.js";import"./IconRefresh-ClXNAr2V.js";import"./ProgressBar-BhbAlmdB.js";import"./YesNoButton-DIAHIY63.js";import"./Instance-c0njg-mI.js";import"./index-DtVngfXu.js";import"./Placeholder-C1-1kY0o.js";import"./IconFileTypePdf-ST3WfDb7.js";import"./IconExternalLink-CDh1KHXW.js";import"./IconQrcode-DcoHpd2K.js";function de(){var m;const{id:i}=E(),{instance:t,instanceQuery:o}=U({endpoint:s.return_order_list,pk:i,params:{customer_detail:!0}}),c=d.useMemo(()=>{var p;if(o.isFetching)return e.jsx(f,{});let _=[{type:"text",name:"reference",label:r._({id:"N2C89m"}),copy:!0},{type:"text",name:"customer_reference",label:r._({id:"ZVUe1A"}),copy:!0,hidden:!t.customer_reference},{type:"link",name:"customer",icon:"customers",label:r._({id:"876pfE"}),model:l.company},{type:"text",name:"description",label:r._({id:"Nu4oKW"}),copy:!0},{type:"status",name:"status",label:r._({id:"uAQUqI"}),model:l.salesorder}],x=[{type:"text",name:"line_items",label:r._({id:"SgduFH"}),icon:"list"},{type:"progressbar",name:"completed",icon:"progress",label:r._({id:"qgs95u"}),total:t.line_items,progress:t.completed_lines},{type:"progressbar",name:"shipments",icon:"shipment",label:r._({id:"polrQd"}),total:t.shipments,progress:t.completed_shipments},{type:"text",name:"currency",label:r._({id:"9j2hXW"})},{type:"text",name:"total_cost",label:r._({id:"A6C0pv"})}],b=[{type:"link",external:!0,name:"link",label:r._({id:"yzF66j"}),copy:!0,hidden:!t.link},{type:"link",model:l.contact,link:!1,name:"contact",label:r._({id:"jfC/xh"}),icon:"user",copy:!0,hidden:!t.contact}],y=[{type:"text",name:"creation_date",label:r._({id:"x9P/+F"}),icon:"calendar"},{type:"text",name:"target_date",label:r._({id:"ZmykKo"}),icon:"calendar",hidden:!t.target_date},{type:"text",name:"responsible",label:r._({id:"XQACoK"}),badge:"owner",hidden:!t.responsible}];return e.jsxs(I,{children:[e.jsxs(n,{children:[e.jsx(n.Col,{span:4,children:e.jsx(P,{appRole:g.purchase_order,apiPath:s.company_list,src:(p=t.customer_detail)==null?void 0:p.image,pk:t.customer})}),e.jsx(n.Col,{span:8,children:e.jsx(a,{fields:_,item:t})})]}),e.jsx(a,{fields:x,item:t}),e.jsx(a,{fields:b,item:t}),e.jsx(a,{fields:y,item:t})]})},[t,o]),u=d.useMemo(()=>[{name:"detail",label:r._({id:"Tol4BF"}),icon:e.jsx(N,{}),content:c},{name:"line-items",label:r._({id:"SgduFH"}),icon:e.jsx(S,{})},{name:"attachments",label:r._({id:"w/Sphq"}),icon:e.jsx(v,{}),content:e.jsx(C,{endpoint:s.return_order_attachment_list,model:"order",pk:Number(i)})},{name:"notes",label:r._({id:"1DBGsz"}),icon:e.jsx(K,{}),content:e.jsx(F,{url:k(s.return_order_list,i),data:t.notes??"",allowEdit:!0})}],[t,i]);return e.jsx(e.Fragment,{children:e.jsxs(j,{spacing:"xs",children:[e.jsx(h,{visible:o.isFetching}),e.jsx(A,{title:r._({id:"Z6ve1w"})+`: ${t.reference}`,subtitle:t.description,imageUrl:(m=t.customer_detail)==null?void 0:m.image,breadcrumbs:[{name:r._({id:"mUv9U4"}),url:"/sales/"}]}),e.jsx(D,{pageKey:"returnorder",panels:u})]})})}export{de as default};
