import{r as o,j as r}from"./vendor-C5fHLTDD.js";import{a as _,i as s,M as t,A as p,U as b,l as C}from"./index-DX4YmBvQ.js";import{A as T}from"./AddItemButton-BjrbTsCx.js";import{T as F}from"./Instance-c0njg-mI.js";import{p as g}from"./PurchaseOrderForms-6UEJk9M0.js";import{u as A,S as R,O as x,b as O,A as U,g as j,I as M}from"./InvenTreeTable-LkhQVMZE.js";import{a as P}from"./UseForm-Btt47jru.js";import{R as S,D,a as I,S as v,b as E,C as k,T as y,c as X,d as q}from"./ColumnRenderers-Dz-jxqgo.js";import{u as w}from"./DesktopAppView-DlNUv0Ur.js";function J({supplierId:i,supplierPartId:m}){const c=w(),l=A("purchase-order"),n=_(),d=o.useMemo(()=>[{name:"status",label:s._({id:"uAQUqI"}),description:s._({id:"OIH7WF"}),choiceFunction:R(t.purchaseorder)},x(),O(),U()],[]),h=o.useMemo(()=>[S(),D({}),{accessor:"supplier__name",title:s._({id:"PYTEl0"}),sortable:!0,render:function(a){let e=a.supplier_detail??{};return r.jsx(F,{src:e==null?void 0:e.image,alt:e.name,text:e.name})}},{accessor:"supplier_reference"},I(),v(t.purchaseorder),E(),k(),y(),X(),q()],[]),u=P({url:p.purchase_order_list,title:s._({id:"XRoR1U"}),fields:g(),initialData:{supplier:i},onFormSuccess:a=>{a.pk?c(j(t.purchaseorder,a.pk)):l.refreshTable()}}),f=o.useMemo(()=>[r.jsx(T,{tooltip:s._({id:"XRoR1U"}),onClick:()=>u.open(),hidden:!n.hasAddRole(b.purchase_order)})],[n]);return r.jsxs(r.Fragment,{children:[u.modal,r.jsx(M,{url:C(p.purchase_order_list),tableState:l,columns:h,props:{params:{supplier_detail:!0,supplier:i,supplier_part:m},tableFilters:d,tableActions:f,modelType:t.purchaseorder}})]})}export{J as P};
