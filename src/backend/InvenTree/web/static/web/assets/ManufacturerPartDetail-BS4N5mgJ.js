import{r as i,j as t,a4 as _,aK as h,S as R,z as T}from"./vendor-C5fHLTDD.js";import{a as A,i as a,U as o,A as r,l as D,M}from"./index-DX4YmBvQ.js";import{I as w,D as I}from"./ItemDetails-DTEWr5C0.js";import{D as E}from"./DetailsImage-Y3z_v9dS.js";import{A as N,a as U,E as v,D as G}from"./ActionDropdown-C-AjyTLr.js";import{P as K}from"./PageDetail-BwkjpKwR.js";import{P as W}from"./PanelGroup-CWuySmV8.js";import{b as P,u as q}from"./CompanyForms-DiSrilXC.js";import{u as Y}from"./UseForm-Btt47jru.js";import{u as $}from"./UseInstance-rwUPjJ4i.js";import{A as B}from"./AttachmentTable-AC0GadOO.js";import{p as H,q as L,x as O,f as Q,h as V}from"./ApiForm-Dtyf-xF2.js";import{u as z,R as X,a as Z,I as J}from"./InvenTreeTable-LkhQVMZE.js";import{S as ee}from"./SupplierPartTable-DDly2pj6.js";import{d as te}from"./DesktopAppView-DlNUv0Ur.js";import{I as ae}from"./IconInfoCircle-D5K91YCo.js";import{I as se}from"./IconBuildingWarehouse-t6daEFLQ.js";import"./ProgressBar-BhbAlmdB.js";import"./StylishText-CD9I8-X7.js";import"./YesNoButton-DIAHIY63.js";import"./ModelType-C8nSW6qW.js";import"./Instance-c0njg-mI.js";import"./BaseContext-BGXKB9QI.js";import"./index-DtVngfXu.js";import"./ActionButton-seel8ZoK.js";import"./notifications-DM-9a7Is.js";import"./IconQrcode-DcoHpd2K.js";import"./IconEdit-DwKL16RF.js";import"./IconTrash-KFql82qv.js";import"./Placeholder-C1-1kY0o.js";import"./IconAt-DPf0GkPm.js";import"./IconFileTypePdf-ST3WfDb7.js";import"./IconExternalLink-CDh1KHXW.js";import"./IconSearch-CKaD9XHL.js";import"./IconRefresh-ClXNAr2V.js";import"./AddItemButton-BjrbTsCx.js";import"./IconPlus-QsNVBJ5N.js";import"./ColumnRenderers-Dz-jxqgo.js";function re({params:c}){const s=z("manufacturer-part-parameter"),e=A(),n=i.useMemo(()=>[{accessor:"name",title:a._({id:"6YtxFj"}),sortable:!0,switchable:!1},{accessor:"value",title:a._({id:"wMHvYH"}),sortable:!0,switchable:!1},{accessor:"units",title:a._({id:"QrhaVg"}),sortable:!1,switchable:!0}],[]),d=P(),u=i.useCallback(l=>[X({hidden:!e.hasChangeRole(o.purchase_order),onClick:()=>{H({url:r.manufacturer_part_parameter_list,pk:l.pk,title:a._({id:"FDjidN"}),fields:d,onFormSuccess:s.refreshTable,successMessage:a._({id:"SaV/l6"})})}}),Z({hidden:!e.hasDeleteRole(o.purchase_order),onClick:()=>{l.pk&&L({url:r.manufacturer_part_parameter_list,pk:l.pk,title:a._({id:"qSo+g1"}),onFormSuccess:s.refreshTable,successMessage:a._({id:"YAbfek"}),preFormWarning:a._({id:"0Agsuf"})})}})],[e]);return t.jsx(J,{url:D(r.manufacturer_part_parameter_list),tableState:s,columns:n,props:{params:{...c},rowActions:u}})}function $e(){var b,x;const{id:c}=te(),s=A(),{instance:e,instanceQuery:n,refreshInstance:d}=$({endpoint:r.manufacturer_part_list,pk:c,hasPrimaryKey:!0,params:{part_detail:!0,manufacturer_detail:!0}}),u=i.useMemo(()=>{var k,j,g;if(n.isFetching)return t.jsx(_,{});let p=e??{},m=[{type:"link",name:"part",label:a._({id:"GNd5ad"}),model:M.part,hidden:!e.part},{type:"string",name:"description",label:a._({id:"Nu4oKW"}),copy:!0,hidden:!e.description},{type:"link",external:!0,name:"link",label:a._({id:"0R4wMK"}),copy:!0,hidden:!e.link}],C=[{type:"link",name:"manufacturer",label:a._({id:"+m9/3S"}),icon:"manufacturers",model:M.company,hidden:!e.manufacturer},{type:"string",name:"MPN",label:a._({id:"ZCCuT2"}),copy:!0,hidden:!e.MPN,icon:"reference"}];return t.jsxs(w,{children:[t.jsxs(h,{children:[t.jsx(h.Col,{span:4,children:t.jsx(E,{appRole:o.part,src:(k=e==null?void 0:e.part_detail)==null?void 0:k.image,apiPath:D(r.part_list,(j=e==null?void 0:e.part_detail)==null?void 0:j.pk),pk:(g=e==null?void 0:e.part_detail)==null?void 0:g.pk})}),t.jsx(h.Col,{span:8,children:t.jsx(I,{title:a._({id:"bisS0I"}),fields:m,item:p})})]}),t.jsx(I,{title:a._({id:"BCSxrX"}),fields:C,item:p})]})},[e,n]),l=i.useMemo(()=>[{name:"details",label:a._({id:"uN9giG"}),icon:t.jsx(ae,{}),content:u},{name:"parameters",label:a._({id:"F18WP3"}),icon:t.jsx(O,{}),content:e!=null&&e.pk?t.jsx(re,{params:{manufacturer_part:e.pk}}):t.jsx(_,{})},{name:"suppliers",label:a._({id:"9RecCt"}),icon:t.jsx(se,{}),content:e!=null&&e.pk?t.jsx(ee,{params:{manufacturer_part:e.pk}}):t.jsx(_,{})},{name:"attachments",label:a._({id:"w/Sphq"}),icon:t.jsx(Q,{}),content:t.jsx(B,{endpoint:r.manufacturer_part_attachment_list,model:"manufacturer_part",pk:e==null?void 0:e.pk})}],[e]),S=q(),f=Y({url:r.manufacturer_part_list,pk:e==null?void 0:e.pk,title:a._({id:"b30yxS"}),fields:S,onFormSuccess:d}),F=i.useMemo(()=>[t.jsx(N,{tooltip:a._({id:"D/ppgk"}),icon:t.jsx(V,{}),actions:[U({hidden:!s.hasAddRole(o.purchase_order)}),v({hidden:!s.hasChangeRole(o.purchase_order),onClick:()=>f.open()}),G({hidden:!s.hasDeleteRole(o.purchase_order)})]},"part")],[s]),y=i.useMemo(()=>{var p,m;return[{name:a._({id:"UOTpFa"}),url:"/purchasing/"},{name:((p=e==null?void 0:e.manufacturer_detail)==null?void 0:p.name)??a._({id:"+m9/3S"}),url:`/purchasing/manufacturer/${(m=e==null?void 0:e.manufacturer_detail)==null?void 0:m.pk}/`}]},[e]);return t.jsxs(t.Fragment,{children:[f.modal,t.jsxs(R,{spacing:"xs",children:[t.jsx(T,{visible:n.isFetching}),t.jsx(K,{title:a._({id:"WssheI"}),subtitle:`${e.MPN} - ${(b=e.part_detail)==null?void 0:b.name}`,breadcrumbs:y,actions:F,imageUrl:(x=e==null?void 0:e.part_detail)==null?void 0:x.thumbnail}),t.jsx(W,{pageKey:"manufacturerpart",panels:l})]})]})}export{$e as default};
