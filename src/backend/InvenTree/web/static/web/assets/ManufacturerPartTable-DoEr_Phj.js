import{r as l,j as o}from"./vendor-C5fHLTDD.js";import{a as b,i as t,A as n,U as i,l as h,M}from"./index-DX4YmBvQ.js";import{A}from"./AddItemButton-BjrbTsCx.js";import{T as C}from"./Instance-c0njg-mI.js";import{u as m}from"./CompanyForms-DiSrilXC.js";import{p as T,q as k}from"./ApiForm-Dtyf-xF2.js";import{a as F}from"./UseForm-Btt47jru.js";import{u as x,R,a as j,I as D}from"./InvenTreeTable-LkhQVMZE.js";import{P,D as S,L as g}from"./ColumnRenderers-Dz-jxqgo.js";function W({params:a}){const u=x("manufacturerparts"),r=b(),p=l.useMemo(()=>[{accessor:"part",switchable:"part"in a,sortable:!0,render:e=>P(e==null?void 0:e.part_detail)},{accessor:"manufacturer",sortable:!0,render:e=>{let s=(e==null?void 0:e.manufacturer_detail)??{};return o.jsx(C,{src:(s==null?void 0:s.thumbnail)??s.image,text:s.name})}},{accessor:"MPN",title:t._({id:"ZCCuT2"}),sortable:!0},S({}),g({})],[a]),c=F({url:n.manufacturer_part_list,title:t._({id:"DTNpCW"}),fields:m(),onFormSuccess:u.refreshTable,initialData:{manufacturer:a==null?void 0:a.manufacturer}}),d=l.useMemo(()=>{let e=r.hasAddRole(i.purchase_order)&&r.hasAddRole(i.part);return[o.jsx(A,{tooltip:t._({id:"uOeMYf"}),onClick:()=>c.open(),hidden:!e})]},[r]),f=m(),_=l.useCallback(e=>[R({hidden:!r.hasChangeRole(i.purchase_order),onClick:()=>{e.pk&&T({url:n.manufacturer_part_list,pk:e.pk,title:t._({id:"b30yxS"}),fields:f,onFormSuccess:u.refreshTable,successMessage:t._({id:"zVjqeS"})})}}),j({hidden:!r.hasDeleteRole(i.purchase_order),onClick:()=>{e.pk&&k({url:n.manufacturer_part_list,pk:e.pk,title:t._({id:"fMDrRl"}),successMessage:t._({id:"E1B18F"}),onFormSuccess:u.refreshTable,preFormWarning:t._({id:"Gk8NFj"})})}})],[r]);return o.jsxs(o.Fragment,{children:[c.modal,o.jsx(D,{url:h(n.manufacturer_part_list),tableState:u,columns:p,props:{params:{...a,part_detail:!0,manufacturer_detail:!0},rowActions:_,tableActions:d,modelType:M.manufacturerpart}})]})}export{W as M};
