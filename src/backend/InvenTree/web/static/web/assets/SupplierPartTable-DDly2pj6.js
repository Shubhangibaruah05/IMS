import{r as n,j as i,h as d}from"./vendor-C5fHLTDD.js";import{a as F,i as s,A as u,U as c,l as A,M as S}from"./index-DX4YmBvQ.js";import{A as j}from"./AddItemButton-BjrbTsCx.js";import{T as _}from"./Instance-c0njg-mI.js";import{a as m}from"./CompanyForms-DiSrilXC.js";import{p as C,q as g}from"./ApiForm-Dtyf-xF2.js";import{a as v}from"./UseForm-Btt47jru.js";import{u as M,R,a as E,I as w}from"./InvenTreeTable-LkhQVMZE.js";import{P as y,D,e as b,L as U,N as q}from"./ColumnRenderers-Dz-jxqgo.js";function H({params:a}){const l=M("supplierparts"),r=F(),h=n.useMemo(()=>[{accessor:"part",switchable:"part"in a,sortable:!0,render:e=>y(e==null?void 0:e.part_detail)},{accessor:"supplier",sortable:!0,render:e=>{let t=(e==null?void 0:e.supplier_detail)??{};return t!=null&&t.pk?i.jsx(_,{src:(t==null?void 0:t.thumbnail)??t.image,text:t.name}):"-"}},{accessor:"SKU",title:s._({id:"nne72x"}),sortable:!0},D({}),{accessor:"manufacturer",sortable:!0,render:e=>{let t=(e==null?void 0:e.manufacturer_detail)??{};return t!=null&&t.pk?i.jsx(_,{src:(t==null?void 0:t.thumbnail)??t.image,text:t.name}):"-"}},{accessor:"MPN",sortable:!0,title:s._({id:"TOxiOu"}),render:e=>{var t;return(t=e==null?void 0:e.manufacturer_part_detail)==null?void 0:t.MPN}},{accessor:"in_stock",sortable:!0},{accessor:"packaging",sortable:!0},{accessor:"pack_quantity",sortable:!0,render:e=>{let t=(e==null?void 0:e.part_detail)??{},o=[];return t.units&&o.push(i.jsxs(d,{children:[s._({id:"v9F5VO"})," : ",t.units]},"base")),i.jsx(b,{value:e.pack_quantity,extra:o,title:s._({id:"J9LTXQ"})})}},U({}),q(),{accessor:"available",sortable:!0,render:e=>{let t=[];return e.availablility_updated&&t.push(i.jsxs(d,{children:[s._({id:"+b7T3G"})," : ",e.availablility_updated]})),i.jsx(b,{value:e.available,extra:t})}}],[a]),k=m({partPk:a==null?void 0:a.part,supplierPk:a==null?void 0:a.supplier,hidePart:!0}),{modal:x,open:f}=v({url:u.supplier_part_list,title:s._({id:"EREF+D"}),fields:k,onFormSuccess:l.refreshTable,successMessage:s._({id:"LjPQ/X"})}),P=n.useMemo(()=>[i.jsx(j,{tooltip:s._({id:"PsAftp"}),onClick:f})],[r]),p=m({hidePart:!0,partPk:a==null?void 0:a.part}),T=n.useCallback(e=>[R({hidden:!r.hasChangeRole(c.purchase_order),onClick:()=>{e.pk&&C({url:u.supplier_part_list,pk:e.pk,title:s._({id:"qZstuw"}),fields:p,onFormSuccess:l.refreshTable,successMessage:s._({id:"mwOWRa"})})}}),E({hidden:!r.hasDeleteRole(c.purchase_order),onClick:()=>{e.pk&&g({url:u.supplier_part_list,pk:e.pk,title:s._({id:"9Qoago"}),successMessage:s._({id:"3GcBv9"}),onFormSuccess:l.refreshTable,preFormWarning:s._({id:"YGIkv1"})})}})],[r,p]);return i.jsxs(i.Fragment,{children:[x,i.jsx(w,{url:A(u.supplier_part_list),tableState:l,columns:h,props:{params:{...a,part_detail:!0,supplier_detail:!0,manufacturer_detail:!0},rowActions:T,tableActions:P,modelType:S.supplierpart}})]})}export{H as S};
