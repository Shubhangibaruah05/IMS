import{F as p,j as e,a7 as u,G as a,S as m,z as h,h as f}from"./vendor-C5fHLTDD.js";import{i as x,j,l as g,A as y}from"./index-DX4YmBvQ.js";import{m as I,I as k}from"./index.es-RSVDxQs2.js";import{S}from"./StylishText-CD9I8-X7.js";import{u as v}from"./DesktopAppView-DlNUv0Ur.js";import{z as w}from"./ApiForm-Dtyf-xF2.js";import{I as b}from"./IconChevronDown-DoPmRmuk.js";function F({opened:s,onClose:i,selectedLocation:n}){const c=v(),o=p({enabled:s,queryKey:["stock_location_tree",s],queryFn:async()=>j.get(g(y.stock_location_tree),{}).then(t=>t.data.map(r=>({id:r.pk,label:r.name,parentId:r.parent,children:r.sublocations}))).catch(t=>(console.error("Error fetching stock location tree:",t),t)),refetchOnMount:!0});function d({node:t}){return e.jsx(a,{position:"apart",noWrap:!0,onClick:()=>{i(),c(`/stock/location/${t.id}`)},children:e.jsx(f,{children:t.label})},t.id)}function l({node:t,open:r}){if(t.children!=0)return r?e.jsx(b,{}):e.jsx(k,{})}return e.jsx(u,{opened:s,size:"md",position:"left",onClose:i,withCloseButton:!0,styles:{header:{width:"100%"},title:{width:"100%"}},title:e.jsxs(a,{position:"left",noWrap:!0,spacing:"md",p:"md",children:[e.jsx(w,{}),e.jsx(S,{size:"lg",children:x._({id:"1eBWAw"})})]}),children:e.jsxs(m,{spacing:"xs",children:[e.jsx(h,{visible:o.isFetching}),e.jsx(I,{nodes:o.data??[],showEmptyItems:!1,RenderNode:d,RenderIcon:l,defaultSelectedNodes:n?[n]:[]})]})})}export{F as S};
