import{r as i,F as I}from"./vendor-C5fHLTDD.js";import{l as q,j as w}from"./index-DX4YmBvQ.js";function F({endpoint:s,pk:t,params:c={},defaultValue:r={},pathParams:o,hasPrimaryKey:l=!0,refetchOnMount:f=!0,refetchOnWindowFocus:h=!1,throwError:y=!1}){const[g,e]=i.useState(r),a=I({queryKey:["instance",s,t,c],queryFn:async()=>{if(l&&(t==null||t==null||t.toString().length==0||t=="-1"))return e(r),null;const u=q(s,t,o);return w.get(u,{timeout:1e4,params:c}).then(n=>{switch(n.status){case 200:return e(n.data),n.data;default:return e(r),null}}).catch(n=>{if(e(r),console.error(`Error fetching instance ${u}:`,n),y)throw n;return null})},refetchOnMount:f,refetchOnWindowFocus:h}),m=i.useCallback(function(){a.refetch()},[]);return{instance:g,refreshInstance:m,instanceQuery:a}}export{F as u};
