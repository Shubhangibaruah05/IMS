import{r as c,j as e,S as _}from"./vendor-C5fHLTDD.js";import{g as k,i as t,l as r,A as s,j as n}from"./index-DX4YmBvQ.js";import{A as f}from"./ActionButton-seel8ZoK.js";import{P as j}from"./PageDetail-BwkjpKwR.js";import{P as v}from"./PanelGroup-CWuySmV8.js";import{I as g,u as h}from"./InvenTreeTable-LkhQVMZE.js";import{m as C}from"./BaseContext-BGXKB9QI.js";import{I}from"./IconCircleCheck-CZpHYTUf.js";import{I as M}from"./IconBellCheck-CsXrvpz0.js";import{I as T}from"./IconCircleX-5L0NjJlg.js";import{I as u}from"./IconTrash-KFql82qv.js";import"./notifications-DM-9a7Is.js";import"./Instance-c0njg-mI.js";import"./StylishText-CD9I8-X7.js";import"./DesktopAppView-DlNUv0Ur.js";import"./Placeholder-C1-1kY0o.js";import"./IconInfoCircle-D5K91YCo.js";import"./ApiForm-Dtyf-xF2.js";import"./IconExternalLink-CDh1KHXW.js";import"./IconQrcode-DcoHpd2K.js";import"./ModelType-C8nSW6qW.js";import"./IconEdit-DwKL16RF.js";import"./IconSearch-CKaD9XHL.js";import"./IconRefresh-ClXNAr2V.js";/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var y=k("outline","bell-exclamation","IconBellExclamation",[["path",{d:"M15 17h-11a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v1.5",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}],["path",{d:"M19 16v3",key:"svg-2"}],["path",{d:"M19 22v.01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.1.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var A=k("outline","mail-opened","IconMailOpened",[["path",{d:"M3 9l9 6l9 -6l-9 -6l-9 6",key:"svg-0"}],["path",{d:"M21 9v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10",key:"svg-1"}],["path",{d:"M3 19l6 -6",key:"svg-2"}],["path",{d:"M15 13l6 6",key:"svg-3"}]]);function x({params:i,tableState:a,tableActions:p,actions:m}){const d=c.useMemo(()=>[{accessor:"age_human",title:t._({id:"RCU5PY"}),sortable:!0},{accessor:"category",title:t._({id:"K7tIrx"}),sortable:!0},{accessor:"name",title:t._({id:"5+87Pq"})},{accessor:"message",title:t._({id:"xDAtGP"})}],[]);return e.jsx(g,{url:r(s.notifications_list),tableState:a,columns:d,props:{rowActions:m,tableActions:p,enableSelection:!0,params:i}})}function $(){const i=h("unreadnotifications"),a=h("readnotifications"),p=c.useCallback(()=>{n.get(r(s.notifications_readall),{params:{read:!1}}).then(o=>{i.refreshTable(),a.refreshTable()}).catch(o=>{})},[]),m=c.useCallback(()=>{C.openConfirmModal({title:t._({id:"Zez9Ff"}),onConfirm:()=>{n.delete(r(s.notifications_list),{data:{filters:{read:!0}}}).then(o=>{a.refreshTable()}).catch(o=>{})}})},[]),d=c.useMemo(()=>[{name:"unread",label:t._({id:"iDNBZe"}),icon:e.jsx(y,{size:"18"}),content:e.jsx(x,{params:{read:!1},tableState:i,actions:o=>[{title:t._({id:"+s1J8k"}),color:"green",icon:e.jsx(I,{}),onClick:()=>{let l=r(s.notifications_list,o.pk);n.patch(l,{read:!0}).then(b=>{i.refreshTable()})}}],tableActions:[e.jsx(f,{icon:e.jsx(A,{}),tooltip:"Mark all as read",onClick:p})]})},{name:"history",label:t._({id:"0caMy7"}),icon:e.jsx(M,{size:"18"}),content:e.jsx(x,{params:{read:!0},tableState:a,actions:o=>[{title:t._({id:"5GPcf9"}),icon:e.jsx(T,{}),onClick:()=>{let l=r(s.notifications_list,o.pk);n.patch(l,{read:!1}).then(b=>{a.refreshTable()})}},{title:t._({id:"cnGeoo"}),color:"red",icon:e.jsx(u,{}),onClick:()=>{n.delete(r(s.notifications_list,o.pk)).then(l=>{a.refreshTable()})}}],tableActions:[e.jsx(f,{color:"red",icon:e.jsx(u,{}),tooltip:"Delete notifications",onClick:m})]})}],[i,a]);return e.jsx(e.Fragment,{children:e.jsxs(_,{children:[e.jsx(j,{title:t._({id:"iDNBZe"})}),e.jsx(v,{pageKey:"notifications",panels:d})]})})}export{$ as default};
