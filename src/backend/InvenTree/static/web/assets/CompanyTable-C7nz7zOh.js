import{r as t,j as s,G as x,m as A,i as a}from"./vendor-B0vSnHFf.js";import{A as E}from"./AddItemButton-CD0U_4gd.js";import{T as R}from"./Instance-Co8OMzcE.js";import{a as T,A as i,M as w,U as r,e as F}from"./index-CDdQlqFV.js";import{c}from"./CompanyForms-Dy3Tzhcs.js";import{a as j,u as k}from"./UseForm-BimrM1zK.js";import{u as M,R as g,I as G}from"./InvenTreeTable-D26a1r6-.js";import{D as S,B as v}from"./ColumnRenderers-CwItNORh.js";import{u as D}from"./DesktopAppView-CofLSp00.js";function P({params:n,path:d}){const l=M("company"),u=D(),o=T(),b=t.useMemo(()=>[{accessor:"name",sortable:!0,render:e=>s.jsxs(x,{gap:"xs",wrap:"nowrap",children:[s.jsx(R,{src:e.thumbnail??e.image??"",alt:e.name,size:24}),s.jsx(A,{children:e.name})]})},S({}),v({accessor:"active",title:a._({id:"F6pfE9"}),sortable:!0,switchable:!0}),{accessor:"website",sortable:!1}],[]),m=j({url:i.company_list,title:a._({id:"5blzdE"}),fields:c(),initialData:n,follow:!0,modelType:w.company}),[_,f]=t.useState(0),p=k({url:i.company_list,pk:_,title:a._({id:"HoG6cl"}),fields:c(),onFormSuccess:e=>l.updateRecord(e)}),h=t.useMemo(()=>[{name:"active",label:a._({id:"F6pfE9"}),description:a._({id:"KbHNaM"})},{name:"is_supplier",label:a._({id:"PYTEl0"}),description:a._({id:"ZFG/Lo"})},{name:"is_manufacturer",label:a._({id:"+m9/3S"}),description:a._({id:"G/eOzG"})},{name:"is_customer",label:a._({id:"876pfE"}),description:a._({id:"7h6Dth"})}],[]),C=t.useMemo(()=>{const e=o.hasAddRole(r.purchase_order)||o.hasAddRole(r.sales_order);return[s.jsx(E,{tooltip:a._({id:"5blzdE"}),onClick:()=>m.open(),hidden:!e})]},[o]),y=t.useCallback(e=>[g({hidden:!o.hasChangeRole(r.purchase_order)&&!o.hasChangeRole(r.sales_order),onClick:()=>{f(e.pk),p.open()}})],[o]);return s.jsxs(s.Fragment,{children:[m.modal,p.modal,s.jsx(G,{url:F(i.company_list),tableState:l,columns:b,props:{params:{...n},tableFilters:h,tableActions:C,enableDownload:!0,rowActions:y,onRowClick:e=>{e.pk&&u(`/${d??"company"}/${e.pk}`)}}})]})}export{P as C};
