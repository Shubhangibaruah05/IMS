import{r,b7 as R}from"./vendor-B0vSnHFf.js";import{e as b,d as v}from"./index-CDdQlqFV.js";function Q({endpoint:c,pk:s,params:u={},defaultValue:e={},pathParams:a,hasPrimaryKey:y=!0,refetchOnMount:S=!0,refetchOnWindowFocus:g=!1,throwError:q=!1,updateInterval:I}){const[m,n]=r.useState(e),[w,i]=r.useState(0),o=R({queryKey:["instance",c,s,u,a],queryFn:async()=>{if(y&&(s==null||s==null||s.toString().length==0||s=="-1"))return n(e),e;const f=b(c,s,a);return v.get(f,{timeout:1e4,params:u}).then(t=>{switch(i(t.status),t.status){case 200:return n(t.data),t.data;default:return n(e),e}}).catch(t=>{var h;if(i(((h=t.response)==null?void 0:h.status)||0),n(e),console.error(`ERR: Error fetching instance ${f}:`,t),q)throw t;return e})},refetchOnMount:S,refetchOnWindowFocus:g??!1,refetchInterval:I}),E=r.useCallback(function(){o.refetch()},[]);return{instance:m,setInstance:n,refreshInstance:E,instanceQuery:o,requestStatus:w}}export{Q as u};
