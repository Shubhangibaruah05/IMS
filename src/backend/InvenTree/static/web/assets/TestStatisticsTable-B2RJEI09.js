import{r as i,i as s,j as g}from"./vendor-B0vSnHFf.js";import{u as S,I as C}from"./InvenTreeTable-D26a1r6-.js";import{e as w}from"./index-CDdQlqFV.js";function j({params:r={}}){const p=[],[u,f]=i.useState(p),c=i.useMemo(()=>u??[],[u]),_=i.useMemo(()=>{const t={accessor:"col_0",title:"",sortable:!0,switchable:!1,noWrap:!0},a={accessor:"col_total",sortable:!0,switchable:!1,noWrap:!0,title:s._({id:"72c5Qo"})};return[t,...c,a]},[c]);function e(t,a){if(t>0){let o=" ("+(100*t/a).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})+"%)";return t.toString()+o}return"-"}const b=i.useCallback(t=>{let a=[{id:"row_passed",col_0:s._({id:"nqMwPi"})},{id:"row_failed",col_0:s._({id:"7Bj3x9"})},{id:"row_total",col_0:s._({id:"72c5Qo"})}],o=0;o=1;let m=[];for(let l in t[0]){if(l=="total")continue;let n="col_"+o.toString();a[0][n]=e(t[0][l].passed,t[0][l].total),a[1][n]=e(t[0][l].failed,t[0][l].total),a[2][n]=t[0][l].total.toString(),m.push({accessor:"col_"+o.toString(),title:l}),o++}return f(m),a[0].col_total=e(t[0].total.passed,t[0].total.total),a[1].col_total=e(t[0].total.failed,t[0].total.total),a[2].col_total=t[0].total.total.toString(),a},[]),d=S("teststatistics");return g.jsx(C,{url:w(r.apiEndpoint,r.pk)+"/",tableState:d,columns:_,props:{dataFormatter:b,enableDownload:!1,enableSearch:!1,enablePagination:!1}})}export{j as T};
