import{r as g,j as i,S as $,c9 as M,bK as C,A as L,G as x,i as t,b9 as j,C as T,aH as F,aG as z,m as y,bb as N,bd as G,b7 as B}from"./vendor-B0vSnHFf.js";import{b as P,u as E,A as o,j as U,r as X,k as w,M as n,l as K,e as q,d as D}from"./index-CDdQlqFV.js";function O(e){var r;e==null||e.preventDefault(),e==null||e.stopPropagation(),(r=e==null?void 0:e.nativeEvent)==null||r.stopImmediatePropagation()}const Q=(e,r,l)=>{if(O(l),l!=null&&l.ctrlKey||l!=null&&l.shiftKey){const a=`/${P}${e}`;window.open(a,"_blank")}else r(e)};function Y(e){const{host:r}=E.getState(),l=g.useMemo(()=>`${r}${e.src}`,[r,e.src]);return i.jsx($,{children:l?i.jsx(M,{...e,src:l,fit:"contain"}):i.jsx(C,{h:(e==null?void 0:e.h)??e.w,w:(e==null?void 0:e.w)??e.h})})}function H({src:e,alt:r=t._({id:"sGeXL3"}),size:l=20,link:a,text:d,align:u}){const p="/static/img/blank_image.png",c=g.useMemo(()=>a?i.jsx(L,{href:a,target:"_blank",children:d}):d,[a,d]);return i.jsxs(x,{align:u??"left",gap:"xs",wrap:"nowrap",children:[i.jsx(Y,{src:e||p,"aria-label":r,w:l,fit:"contain",radius:"xs",style:{maxHeight:l}}),c]})}const h={part:{label:t._({id:"vgP+9p"}),label_multiple:t._({id:"pmRbKZ"}),url_overview:"/part",url_detail:"/part/:pk/",cui_detail:"/part/:pk/",api_endpoint:o.part_list,admin_url:"/part/part/"},partparametertemplate:{label:t._({id:"hAddRl"}),label_multiple:t._({id:"UrnQgP"}),url_overview:"/partparametertemplate",url_detail:"/partparametertemplate/:pk/",api_endpoint:o.part_parameter_template_list},parttesttemplate:{label:t._({id:"75lDy5"}),label_multiple:t._({id:"KevMsQ"}),url_overview:"/parttesttemplate",url_detail:"/parttesttemplate/:pk/",api_endpoint:o.part_test_template_list},supplierpart:{label:t._({id:"nne72x"}),label_multiple:t._({id:"FcNRrt"}),url_overview:"/supplierpart",url_detail:"/purchasing/supplier-part/:pk/",cui_detail:"/supplier-part/:pk/",api_endpoint:o.supplier_part_list,admin_url:"/company/supplierpart/"},manufacturerpart:{label:t._({id:"bisS0I"}),label_multiple:t._({id:"d0fBfb"}),url_overview:"/manufacturerpart",url_detail:"/purchasing/manufacturer-part/:pk/",cui_detail:"/manufacturer-part/:pk/",api_endpoint:o.manufacturer_part_list,admin_url:"/company/manufacturerpart/"},partcategory:{label:t._({id:"QXANxH"}),label_multiple:t._({id:"2GkbLI"}),url_overview:"/part/category",url_detail:"/part/category/:pk/",cui_detail:"/part/category/:pk/",api_endpoint:o.category_list,admin_url:"/part/partcategory/"},stockitem:{label:t._({id:"igx8Og"}),label_multiple:t._({id:"Jbck4N"}),url_overview:"/stock/item",url_detail:"/stock/item/:pk/",cui_detail:"/stock/item/:pk/",api_endpoint:o.stock_item_list,admin_url:"/stock/stockitem/"},stocklocation:{label:t._({id:"adXdas"}),label_multiple:t._({id:"1eBWAw"}),url_overview:"/stock/location",url_detail:"/stock/location/:pk/",cui_detail:"/stock/location/:pk/",api_endpoint:o.stock_location_list,admin_url:"/stock/stocklocation/"},stocklocationtype:{label:t._({id:"DjwC2f"}),label_multiple:t._({id:"vkPSyZ"}),api_endpoint:o.stock_location_type_list},stockhistory:{label:t._({id:"cE4TWF"}),label_multiple:t._({id:"rewkgt"}),api_endpoint:o.stock_tracking_list},build:{label:t._({id:"iSiFYa"}),label_multiple:t._({id:"3400Lv"}),url_overview:"/build",url_detail:"/build/:pk/",cui_detail:"/build/:pk/",api_endpoint:o.build_order_list,admin_url:"/build/build/"},buildline:{label:t._({id:"9TLpo1"}),label_multiple:t._({id:"CRYIQ0"}),url_overview:"/build/line",url_detail:"/build/line/:pk/",cui_detail:"/build/line/:pk/",api_endpoint:o.build_line_list},builditem:{label:t._({id:"LN2ON5"}),label_multiple:t._({id:"A7FuwR"}),api_endpoint:o.build_item_list},company:{label:t._({id:"7i8j3G"}),label_multiple:t._({id:"s2QZS6"}),url_overview:"/company",url_detail:"/company/:pk/",cui_detail:"/company/:pk/",api_endpoint:o.company_list,admin_url:"/company/company/"},projectcode:{label:t._({id:"Sdfr6G"}),label_multiple:t._({id:"AklCpf"}),url_overview:"/project-code",url_detail:"/project-code/:pk/",api_endpoint:o.project_code_list},purchaseorder:{label:t._({id:"KxySMG"}),label_multiple:t._({id:"85Yvr2"}),url_overview:"/purchasing/purchase-order",url_detail:"/purchasing/purchase-order/:pk/",cui_detail:"/order/purchase-order/:pk/",api_endpoint:o.purchase_order_list,admin_url:"/order/purchaseorder/"},purchaseorderlineitem:{label:t._({id:"Enr0Pf"}),label_multiple:t._({id:"MXjnQS"}),api_endpoint:o.purchase_order_line_list},salesorder:{label:t._({id:"LozYBo"}),label_multiple:t._({id:"B1TL+X"}),url_overview:"/sales/sales-order",url_detail:"/sales/sales-order/:pk/",cui_detail:"/order/sales-order/:pk/",api_endpoint:o.sales_order_list,admin_url:"/order/salesorder/"},salesordershipment:{label:t._({id:"qGSobR"}),label_multiple:t._({id:"D/EkfS"}),url_overview:"/salesordershipment",url_detail:"/salesordershipment/:pk/",api_endpoint:o.sales_order_shipment_list},returnorder:{label:t._({id:"Z6ve1w"}),label_multiple:t._({id:"LlTg8M"}),url_overview:"/sales/return-order",url_detail:"/sales/return-order/:pk/",cui_detail:"/order/return-order/:pk/",api_endpoint:o.return_order_list,admin_url:"/order/returnorder/"},returnorderlineitem:{label:t._({id:"Frsz7D"}),label_multiple:t._({id:"4dCpFa"}),api_endpoint:o.return_order_line_list},address:{label:t._({id:"Du6bPw"}),label_multiple:t._({id:"bYmAV1"}),url_overview:"/address",url_detail:"/address/:pk/",api_endpoint:o.address_list},contact:{label:t._({id:"jfC/xh"}),label_multiple:t._({id:"gVfVfe"}),url_overview:"/contact",url_detail:"/contact/:pk/",api_endpoint:o.contact_list},owner:{label:t._({id:"LtI9AS"}),label_multiple:t._({id:"CYRJEX"}),url_overview:"/owner",url_detail:"/owner/:pk/",api_endpoint:o.owner_list},user:{label:t._({id:"7PzzBU"}),label_multiple:t._({id:"Sxm8rQ"}),url_overview:"/user",url_detail:"/user/:pk/",api_endpoint:o.user_list},group:{label:t._({id:"L8fEEm"}),label_multiple:t._({id:"zhrjek"}),url_overview:"/user/group",url_detail:"/user/group-:pk",api_endpoint:o.group_list,admin_url:"/auth/group/"},importsession:{label:t._({id:"e5WBGh"}),label_multiple:t._({id:"1dn8uK"}),url_overview:"/import",url_detail:"/import/:pk/",api_endpoint:o.import_session_list},labeltemplate:{label:t._({id:"aKf3M5"}),label_multiple:t._({id:"0qHiFS"}),url_overview:"/labeltemplate",url_detail:"/labeltemplate/:pk/",api_endpoint:o.label_list},reporttemplate:{label:t._({id:"F/A+39"}),label_multiple:t._({id:"SX006I"}),url_overview:"/reporttemplate",url_detail:"/reporttemplate/:pk/",api_endpoint:o.report_list},pluginconfig:{label:t._({id:"BFm1Jm"}),label_multiple:t._({id:"7ybWp/"}),url_overview:"/pluginconfig",url_detail:"/pluginconfig/:pk/",api_endpoint:o.plugin_list},contenttype:{label:t._({id:"f9cDxV"}),label_multiple:t._({id:"F7Jcuy"}),api_endpoint:o.content_type_list}};function Pe(e){return h[e]}function _(e,r,l){const a=h[e];if(r==null)return"";if(r&&a&&a.url_detail){let d=a.url_detail.replace(":pk",r.toString()),u=P;return l&&u?`/${u}${d}`:d}return console.error(`No detail URL found for model ${e} <${r}>`),""}function J(e,r,l={}){let a=null,d=null;for(let p in r){let c=r[p];if(c.key==e){a=c.label,d=c.color;break}}a||console.error(`ERR: renderStatusLabel could not find match for code ${e}`),d==null&&(d="default"),d=w[d]||w.default;const u=l.size||"xs";return a||(a=e),i.jsx(j,{color:d,variant:"filled",size:u,children:a})}function V(e){const r=U.getState().status;if(r===void 0)return console.log("StatusRenderer: statusCodeList is undefined"),null;const l=r[e];return l===void 0?(console.log("StatusRenderer: statusCodes is undefined"),null):l}const m=({status:e,type:r,options:l})=>{const a=V(r);return a==null?(console.warn("StatusRenderer: statusCodes is undefined"),null):J(e,a,l)};function Ae(e,r){return l=>{const a=X(l,r??"status");return a&&i.jsx(T,{children:m({status:a,type:e})})}}function W(e){var l,a;const{instance:r}=e;return i.jsx(s,{...e,primary:r.reference,secondary:r.title,suffix:m({status:r.status_custom_key,type:n.build}),image:((l=r.part_detail)==null?void 0:l.thumbnail)||((a=r.part_detail)==null?void 0:a.image),url:e.link?_(n.build,r.pk):void 0})}function Z({instance:e}){return i.jsx(s,{primary:e.part_detail.full_name,secondary:e.quantity,suffix:m({status:e.status_custom_key,type:n.build}),image:e.part_detail.thumbnail||e.part_detail.image})}function ee({instance:e}){return i.jsx(s,{primary:e.pk})}function re({instance:e}){let r=[e.country,e.postal_code,e.postal_city,e.province,e.line1,e.line2].filter(Boolean).join(", ");return i.jsx(s,{primary:e.title,secondary:r})}function te(e){const{instance:r}=e;return i.jsx(s,{...e,image:r.thumnbnail||r.image,primary:r.name,secondary:r.description,url:e.link?_(n.company,r.pk):void 0})}function ie({instance:e}){return i.jsx(s,{primary:e.name})}function le(e){const{instance:r}=e,l=r.supplier_detail??{},a=r.part_detail??{};return i.jsx(s,{...e,primary:l==null?void 0:l.name,secondary:r.SKU,image:(a==null?void 0:a.thumbnail)??(a==null?void 0:a.image),suffix:a.full_name,url:e.link?_(n.supplierpart,r.pk):void 0})}function ae(e){const{instance:r}=e,l=r.part_detail??{},a=r.manufacturer_detail??{};return i.jsx(s,{...e,primary:a.name,secondary:r.MPN,suffix:l.full_name,image:(a==null?void 0:a.thumnbnail)??a.image,url:e.link?_(n.manufacturerpart,r.pk):void 0})}function ne({instance:e}){return e&&i.jsx(s,{primary:e.code,secondary:e.description})}function oe({instance:e}){return e&&i.jsx(s,{primary:e.app_labeled_name})}function se({instance:e}){return e&&i.jsx(s,{primary:e.data_file})}function R(e){const{instance:r}=e,l=(r==null?void 0:r.supplier_detail)||{};return i.jsx(s,{...e,primary:r.reference,secondary:r.description,suffix:m({status:r.status_custom_key,type:n.purchaseorder}),image:l.thumnbnail||l.image,url:e.link?_(n.purchaseorder,r.pk):void 0})}function de(e){const{instance:r}=e,l=(r==null?void 0:r.customer_detail)||{};return i.jsx(s,{...e,primary:r.reference,secondary:r.description,suffix:m({status:r.status_custom_key,type:n.returnorder}),image:l.thumnbnail||l.image,url:e.link?_(n.returnorder,r.pk):void 0})}function ue(e){const{instance:r}=e;return i.jsx(s,{...e,primary:r.reference,suffix:m({status:r.outcome,type:n.returnorderlineitem})})}function pe(e){const{instance:r}=e,l=(r==null?void 0:r.customer_detail)||{};return i.jsx(s,{...e,primary:r.reference,secondary:r.description,suffix:m({status:r.status_custom_key,type:n.salesorder}),image:l.thumnbnail||l.image,url:e.link?_(n.salesorder,r.pk):void 0})}function ce({instance:e}){let r=e.sales_order_detail||{};return i.jsx(s,{primary:r.reference,secondary:t._({id:"4fws5M"})+` ${e.description}`})}var _e="d1ctj10";const v=({name:e,size:r=22})=>{const[l,a,d]=e.split(":"),u=K(c=>{var f,b;return(b=(f=c.packagesMap[l])==null?void 0:f.icons[a])==null?void 0:b.variants[d]}),p=u?String.fromCodePoint(parseInt(u,16)):"";return i.jsx("i",{className:_e,style:{fontFamily:`inventree-icon-font-${l}`,fontSize:r},children:p})};function me(e){const{instance:r}=e;let l="",a="",d=r.total_in_stock;r.active==!1?(a="red",l=t._({id:"NoNwIX"})):d<=0?(a="orange",l=t._({id:"AbC1Px"})):(l=t._({id:"blbbPS"})+`: ${d}`,a=r.minimum_stock>d?"yellow":"green");const u=i.jsx(j,{size:"xs",color:a,children:l});return i.jsx(s,{...e,primary:r.full_name??r.name,secondary:r.description,suffix:u,image:r.thumnbnail||r.image,url:e.link?_(n.part,r.pk):void 0})}function fe(e){const{instance:r}=e;return i.jsx(s,{...e,tooltip:r.pathstring,prefix:i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{width:10*(r.level||0)}}),r.icon&&i.jsx(v,{name:r.icon})]}),primary:r.name,secondary:r.description,url:e.link?_(n.partcategory,r.pk):void 0})}function be({instance:e}){return i.jsx(s,{primary:e.name,secondary:e.description,suffix:e.units})}function ye({instance:e}){return i.jsx(s,{primary:e.test_name,secondary:e.description})}function ke({instance:e}){var r;return i.jsx(s,{primary:e.name,secondary:(r=e.meta)==null?void 0:r.description,suffix:!e.active&&i.jsx(j,{size:"sm",color:"red",children:t._({id:"NoNwIX"})})})}function xe({instance:e}){return i.jsx(s,{primary:e.name,secondary:e.description})}function ge({instance:e}){return i.jsx(s,{primary:e.name,secondary:e.description})}function je(e){const{instance:r}=e;return i.jsx(s,{...e,tooltip:r.pathstring,prefix:i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{width:10*(r.level||0)}}),r.icon&&i.jsx(v,{name:r.icon})]}),primary:r.name,secondary:r.description,url:e.link?_(n.stocklocation,r.pk):void 0})}function he({instance:e}){return i.jsx(s,{primary:e.name,prefix:e.icon&&i.jsx(v,{name:e.icon}),secondary:e.description+` (${e.location_count})`})}function S(e){var a,d,u;const{instance:r}=e;let l="";return(r==null?void 0:r.serial)!==null&&(r==null?void 0:r.serial)!==void 0?l+=t._({id:"AXeJt4"})+`: ${r.serial}`:r!=null&&r.quantity&&(l=t._({id:"VbWX2u"})+`: ${r.quantity}`),i.jsx(s,{...e,primary:(a=r.part_detail)==null?void 0:a.full_name,suffix:l,image:((d=r.part_detail)==null?void 0:d.thumbnail)||((u=r.part_detail)==null?void 0:u.image),url:e.link?_(n.stockitem,r.pk):void 0})}function ve({instance:e}){return e&&i.jsx(s,{primary:e.name,suffix:e.label=="group"?i.jsx(F,{size:16}):i.jsx(z,{size:16})})}function we({instance:e}){return e&&i.jsx(s,{primary:e.username,secondary:`${e.first_name} ${e.last_name}`})}function Re({instance:e}){return e&&i.jsx(s,{primary:e.name})}const Se={[n.address]:re,[n.build]:W,[n.buildline]:Z,[n.builditem]:ee,[n.company]:te,[n.contact]:ie,[n.manufacturerpart]:ae,[n.owner]:ve,[n.part]:me,[n.partcategory]:fe,[n.partparametertemplate]:be,[n.parttesttemplate]:ye,[n.projectcode]:ne,[n.purchaseorder]:R,[n.purchaseorderlineitem]:R,[n.returnorder]:de,[n.returnorderlineitem]:ue,[n.salesorder]:pe,[n.salesordershipment]:ce,[n.stocklocation]:je,[n.stocklocationtype]:he,[n.stockitem]:S,[n.stockhistory]:S,[n.supplierpart]:le,[n.user]:we,[n.group]:Re,[n.importsession]:se,[n.reporttemplate]:xe,[n.labeltemplate]:ge,[n.pluginconfig]:ke,[n.contenttype]:oe};function Ie(e){if(e.model===void 0)return console.error("RenderInstance: No model provided"),i.jsx(I,{model:e.model});const r=Se[e.model];return r?i.jsx(r,{...e}):(console.error(`RenderInstance: No renderer for model ${e.model}`),i.jsx(I,{model:e.model}))}function $e({model:e,pk:r}){const{data:l,isLoading:a,isFetching:d}=B({queryKey:["model",e,r],queryFn:async()=>{const u=q(h[e].api_endpoint,r);return D.get(u).then(p=>p.data).catch(()=>null)}});return a||d?i.jsx(C,{}):l?i.jsx(Ie,{model:e,instance:l}):i.jsxs(y,{children:[e,": ",r]})}function s({primary:e,secondary:r,prefix:l,suffix:a,image:d,labels:u,url:p,navigate:c,showSecondary:f=!0,tooltip:b}){const A=g.useCallback(k=>{p&&c&&Q(p,c,k)},[p,c]);return i.jsxs(x,{gap:"xs",justify:"space-between",wrap:"nowrap",title:b,children:[i.jsxs(x,{gap:"xs",justify:"left",wrap:"nowrap",children:[l,d&&i.jsx(H,{src:d,size:18}),p?i.jsx(L,{href:p,onClick:k=>A(k),children:i.jsx(y,{size:"sm",children:e})}):i.jsx(y,{size:"sm",children:e}),f&&r&&i.jsx(y,{size:"xs",children:r})]}),a&&i.jsxs(i.Fragment,{children:[i.jsx(N,{}),i.jsx("div",{style:{fontSize:"xs",lineHeight:"xs"},children:a})]})]})}function I({model:e}){return i.jsx(G,{color:"red",title:t._({id:"5iarLn",values:{model:e}}),children:i.jsx(i.Fragment,{})})}export{v as A,h as M,Ie as R,m as S,H as T,Pe as a,Y as b,O as c,Ae as d,ve as e,me as f,_ as g,we as h,$e as i,V as j,S as k,je as l,W as m,Q as n,R as o,pe as p,de as q,te as r};
