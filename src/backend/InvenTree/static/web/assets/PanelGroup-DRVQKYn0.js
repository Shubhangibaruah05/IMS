import{j as e,r as c,c4 as $,be as f,b5 as p,b6 as g,d$ as E,e0 as I,S as k,b8 as C}from"./vendor-B0vSnHFf.js";import{u as P,t as R}from"./index-CDdQlqFV.js";import{c as T,n as w}from"./Instance-Co8OMzcE.js";import{B as y}from"./Boundary-CysPC9mI.js";import{S as U}from"./StylishText-CrpvZzAV.js";import{R as B,e as L,b as G,u as N,d as v,c as z}from"./DesktopAppView-CofLSp00.js";function M({pageKey:n,panels:o,onPanelChange:r,selectedPanel:l,collapsible:h=!0}){const u=G(),m=N(),{panel:t}=v(),d=c.useMemo(()=>o.filter(s=>!s.hidden&&!s.disabled),[o]),a=P(s=>s.setLastUsedPanel(n));c.useEffect(()=>{t&&a(t)},[a]);const j=c.useCallback((s,i)=>{if(d.findIndex(b=>b.name===s)===-1&&(s=""),i&&(i!=null&&i.ctrlKey||i!=null&&i.shiftKey)){const b=`${u.pathname}/../${s}`;T(i),w(b,m,i)}else m(`../${s}`);s&&r&&r(s)},[d,a,m,u,r]);c.useEffect(()=>{l&&l!==t&&j(l)},[l,t]),c.useEffect(()=>{if(d.findIndex(s=>s.name===t)===-1)return a(""),m("../")},[d,t]);const[x,S]=c.useState(!0);return e.jsx(y,{label:`PanelGroup-${n}`,children:e.jsx($,{p:"sm",radius:"xs",shadow:"xs",children:e.jsxs(f,{value:t,orientation:"vertical",keepMounted:!1,children:[e.jsxs(f.List,{justify:"left",children:[o.map(s=>!s.hidden&&e.jsx(p,{label:s.label,disabled:x,position:"right",children:e.jsx(f.Tab,{p:"xs",value:s.name,leftSection:s.icon,hidden:s.hidden,disabled:s.disabled,style:{cursor:s.disabled?"unset":"pointer"},onClick:i=>j(s.name,i),children:x&&s.label})},s.name)),h&&e.jsx(g,{style:{paddingLeft:"10px"},onClick:()=>S(!x),variant:"transparent",size:"md",children:x?e.jsx(E,{opacity:.5}):e.jsx(I,{opacity:.5})})]}),o.map(s=>!s.hidden&&e.jsx(f.Panel,{value:s.name,"aria-label":`nav-panel-${R(`${n}-${s.name}`)}`,p:"sm",style:{overflowX:"scroll",width:"100%"},children:e.jsxs(k,{gap:"md",children:[s.showHeadline!==!1&&e.jsxs(e.Fragment,{children:[e.jsx(U,{size:"xl",children:s.label}),e.jsx(C,{})]}),e.jsx(y,{label:`PanelContent-${s.name}`,children:s.content})]})},s.name))]})})})}function A({pageKey:n,selectedPanel:o,panels:r}){const l=P(h=>{var t,d;const u=o||h.lastUsedPanels[n]||((t=r[0])==null?void 0:t.name);return r.findIndex(a=>a.name===u&&!a.disabled&&!a.hidden)===-1?((d=r.find(a=>!a.disabled&&!a.hidden))==null?void 0:d.name)||"":u});return e.jsx(z,{to:l,replace:!0})}function K(n){return e.jsxs(B,{children:[e.jsx(L,{index:!0,element:e.jsx(A,{...n})}),e.jsx(L,{path:"/:panel/*",element:e.jsx(M,{...n})})]})}export{K as P};
