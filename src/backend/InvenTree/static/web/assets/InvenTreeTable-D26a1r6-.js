import{br as lr,r as f,j as s,dw as cr,dx as z,bC as oe,dy as ve,dz as $e,c2 as dt,dA as dr,cv as kn,dB as Tn,dC as Sn,S as me,G as re,B as ae,m as ee,dD as ur,dE as Bt,dF as hr,ba as gr,C as Me,dG as fr,bw as En,dH as mr,bW as pr,b6 as le,L as br,bJ as O,dI as Cr,q as Re,dJ as xr,dK as wr,bm as yr,bi as Ue,c5 as jr,dL as vr,dM as Ut,dN as kr,dO as gn,b7 as at,i as b,bd as An,dP as Tr,cm as _t,b_ as Mn,c9 as Sr,bK as Er,c6 as Lt,b5 as ce,aZ as fn,aD as Ar,b2 as Mr,Z as Rn,ai as Ht,aq as Pn,v as Rr,n as mn,aM as Pr,dQ as Nr,dR as Ir,dS as Br,dT as _r,dU as Lr,dV as Fr,dW as Dr,bV as zr,b8 as Nn,c4 as Vr,b9 as Or,cu as In,aL as Ur,bZ as Hr,b$ as Kr,dX as Wr,bb as $r,c1 as Qr,dY as Jr,bc as qr}from"./vendor-B0vSnHFf.js";import{s as Yr,d as je,e as Pe,A as Ne,t as pn,u as Bn,j as Gr,r as Zr}from"./index-CDdQlqFV.js";import{B as bn}from"./Boundary-CysPC9mI.js";import{A as Xr}from"./ActionButton-Br0cBRLA.js";import{a as Cn,e as _n,m as ei,b as ti}from"./UseForm-BimrM1zK.js";import{T as Ke,C as ni,m as Kt,I as Ln}from"./BaseContext-DSwOqL9e.js";import{c as Ft,g as oi,n as ri}from"./Instance-Co8OMzcE.js";import{S as ii}from"./StylishText-CrpvZzAV.js";import{u as si}from"./DesktopAppView-CofLSp00.js";var[ai,Wt]=lr("useDataTableColumnsContext must be used within DataTableColumnProvider"),xn=e=>{let{children:t,columnsOrder:n,setColumnsOrder:o,columnsToggle:r,setColumnsToggle:i,resetColumnsOrder:a,resetColumnsToggle:c,setColumnWidth:l,resetColumnsWidth:d}=e,[h,C]=f.useState(""),[g,u]=f.useState("");return s.jsx(ai,{value:{sourceColumn:h,setSourceColumn:C,targetColumn:g,setTargetColumn:u,columnsToggle:r,setColumnsToggle:i,swapColumns:()=>{if(!n||!o||!h||!g)return;let p=n.indexOf(h),j=n.indexOf(g);if(p!==-1&&j!==-1){let A=n.splice(p,1)[0];n.splice(j,0,A),o([...n])}},resetColumnsOrder:a,resetColumnsToggle:c,setColumnWidth:l,resetColumnsWidth:d},children:t})};function li(){return s.jsx("tr",{className:"mantine-datatable-empty-row",children:s.jsx("td",{})})}function ci(){return s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M12.983 8.978c3.955 -.182 7.017 -1.446 7.017 -2.978c0 -1.657 -3.582 -3 -8 -3c-1.661 0 -3.204 .19 -4.483 .515m-2.783 1.228c-.471 .382 -.734 .808 -.734 1.257c0 1.22 1.944 2.271 4.734 2.74"}),s.jsx("path",{d:"M4 6v6c0 1.657 3.582 3 8 3c.986 0 1.93 -.067 2.802 -.19m3.187 -.82c1.251 -.53 2.011 -1.228 2.011 -1.99v-6"}),s.jsx("path",{d:"M4 12v6c0 1.657 3.582 3 8 3c3.217 0 5.991 -.712 7.261 -1.74m.739 -3.26v-4"}),s.jsx("path",{d:"M3 3l18 18"})]})}function di({icon:e,text:t,pt:n,pb:o,active:r,children:i}){return s.jsx(Me,{pt:n,pb:o,className:"mantine-datatable-empty-state","data-active":r||void 0,children:i||s.jsxs(s.Fragment,{children:[e||s.jsx("div",{className:"mantine-datatable-empty-state-icon",children:s.jsx(ci,{})}),s.jsx(ee,{component:"div",size:"sm",c:"dimmed",children:t})]})})}var ui=({key:e,columns:t=[],getInitialValueInEffect:n=!0})=>{function o(m,k){let w=[];return m.forEach(S=>{k.find(P=>P.accessor===S)&&w.push(S)}),k.forEach(S=>{w.includes(S.accessor)||w.push(S.accessor)}),w}function r(m,k){let w=[];return m.forEach(S=>{k.find(P=>P.accessor===S.accessor)&&w.push(S)}),k.forEach(S=>{w.find(P=>P.accessor===S.accessor)||w.push({accessor:S.accessor,defaultToggle:S.defaultToggle||!0,toggleable:S.toggleable,toggled:S.defaultToggle===void 0?!0:S.defaultToggle})}),w}function i(m,k){let w=[];return m.forEach(S=>{let P=Object.keys(S)[0];k.find(R=>R.accessor===P)&&w.push(S)}),k.forEach(S=>{let P=S.accessor;if(!w.find(R=>Object.keys(R)[0]===P)){let R={};R[P]="",w.push(R)}}),w}function a(){let[m,k]=Ue({key:e?`${e}-columns-order`:"",defaultValue:e?d:void 0,getInitialValueInEffect:n});function w(R){e&&k(R)}if(!e)return[m,w];let S=o(m,t),P=JSON.stringify(m);return JSON.stringify(S)!==P&&w(S),[S,w]}function c(){let[m,k]=Ue({key:e?`${e}-columns-toggle`:"",defaultValue:e?C:void 0,getInitialValueInEffect:n});function w(R){e&&k(R)}if(!e)return[m,w];let S=r(m,t),P=JSON.stringify(m);return JSON.stringify(S)!==P&&w(S),[r(m,t),w]}function l(){let[m,k]=Ue({key:e?`${e}-columns-width`:"",defaultValue:e?h:void 0,getInitialValueInEffect:n});function w(R){e&&k(R)}if(!e)return[m,w];let S=i(m,t),P=JSON.stringify(m);return JSON.stringify(S)!==P&&w(S),[i(m,t),w]}let d=t&&t.map(m=>m.accessor)||[],h=t&&t.map(m=>({[m.accessor]:m.width??"initial"}))||[],C=t&&t.map(m=>({accessor:m.accessor,defaultToggle:m.defaultToggle||!0,toggleable:m.toggleable,toggled:m.defaultToggle===void 0?!0:m.defaultToggle})),[g,u]=a(),[p,j]=c(),[A,x]=l(),E=()=>u(d),y=()=>{j(C)},v=()=>x(h);return{effectiveColumns:f.useMemo(()=>g?g.map(m=>t.find(k=>k.accessor===m)).map(m=>{var k;return{...m,hidden:!((k=p.find(w=>w.accessor===(m==null?void 0:m.accessor)))!=null&&k.toggled)}}).map(m=>{var k;return{...m,width:(k=A.find(w=>w[m==null?void 0:m.accessor]))==null?void 0:k[m==null?void 0:m.accessor]}}):t,[t,g,p,A]),setColumnsOrder:u,columnsOrder:g,resetColumnsOrder:E,columnsToggle:p,setColumnsToggle:j,resetColumnsToggle:y,columnsWidth:A,setColumnsWidth:x,setColumnWidth:(m,k)=>{let w=A.map(S=>S[m]?{[m]:k}:S);x(w)},resetColumnsWidth:v}};function Ae(){var o;let[e]=fr(),{width:t,height:n}=((o=e.current)==null?void 0:o.getBoundingClientRect())||{width:0,height:0};return{ref:e,width:t,height:n}}var hi=typeof window<"u"?f.useLayoutEffect:f.useEffect;function gi(e){let[t,n]=f.useState(null),o=(e==null?void 0:e.join(":"))||"";return f.useEffect(()=>{n(null)},[o]),{lastSelectionChangeIndex:t,setLastSelectionChangeIndex:n}}function fi(e,t){let n=()=>{t(e.map(r=>r.matches))},o=e.map(r=>{try{return r.addEventListener("change",n),()=>r.removeEventListener("change",n)}catch{return r.addListener(n),()=>r.removeListener(n)}});return()=>{o.forEach(r=>r())}}function mi(e,t){return t||(typeof window<"u"&&"matchMedia"in window?e.map(n=>window.matchMedia(n).matches):e.map(()=>!1))}function pi(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){let[o,r]=f.useState(n?t:mi(e,t)),i=f.useRef();return f.useEffect(()=>{if("matchMedia"in window)return i.current=e.map(a=>window.matchMedia(a)),r(i.current.map(a=>a.matches)),fi(i.current,a=>{r(a)})},[e]),o}function bi(e){let t=En(),n=f.useMemo(()=>e.map(r=>(typeof r=="function"?r(t):r)??""),[e,t]),o=f.useMemo(()=>e.map(()=>!0),[e]);return pi(n,o)}function ut(e){let t=En(),n=typeof e=="function"?e(t):e;return mr(n||"",!0)}function $t(e){let t=e.replace(/([a-z\d])([A-Z]+)/g,"$1 $2").replace(/\W|_/g," ").trim().toLowerCase();return`${t.charAt(0).toUpperCase()}${t.slice(1)}`}function Ci(e,t,n){return e.filter(o=>!t.map(n).includes(n(o)))}function Et(e,t){return e.filter((n,o,r)=>o===r.findIndex(i=>t(n)===t(i)))}function Fn(e,t){return t?t.match(/([^[.\]])+/g).reduce((n,o)=>n&&n[o],e):void 0}function J(e,t){return typeof t=="string"?Fn(e,t):t(e)}function xi({rowExpansion:e,records:t,idAccessor:n}){let o=[];if(e&&t){let{trigger:c,allowMultiple:l,initiallyExpanded:d}=e;t&&c==="always"?o=t.map(h=>J(h,n)):d&&(o=t.filter((h,C)=>d({record:h,index:C})).map(h=>J(h,n)),l||(o=[o[0]]))}let r,i,a=f.useState(o);if(e){let{expandable:c,trigger:l,allowMultiple:d,collapseProps:h,content:C}=e;e.expanded?{recordIds:r,onRecordIdsChange:i}=e.expanded:[r,i]=a;let g=u=>i==null?void 0:i(r.filter(p=>p!==J(u,n)));return{expandOnClick:l!=="always"&&l!=="never",isRowExpanded:u=>l==="always"?!0:r.includes(J(u,n)),isExpandable:({record:u,index:p})=>c?c({record:u,index:p}):!0,expandRow:u=>{let p=J(u,n);i==null||i(d?[...r,p]:[p])},collapseRow:g,collapseProps:h,content:({record:u,index:p})=>()=>C({record:u,index:p,collapse:()=>g(u)})}}}function wi(e,t){let[n,o]=f.useState(e),[r,i]=f.useState(e),a=gn(()=>o(!0),0),c=gn(()=>i(!1),t||200);return f.useEffect(()=>{e?(c.clear(),i(!0),a.start()):(a.clear(),o(!1),c.start())},[a,c,e]),{expanded:n,visible:r}}var Qt="mantine-datatable-nowrap",Jt="mantine-datatable-ellipsis",Ie="mantine-datatable-pointer-cursor",Dn="mantine-datatable-context-menu-cursor",yi="mantine-datatable-text-selection-disabled",ht="mantine-datatable-text-align-left",gt="mantine-datatable-text-align-center",ft="mantine-datatable-text-align-right";function ji({className:e,style:t,visibleMediaQuery:n,title:o,noWrap:r,ellipsis:i,textAlign:a,width:c}){return ut(n)?s.jsx($e,{className:z({[Qt]:r||i,[Jt]:i,[ht]:a==="left",[gt]:a==="center",[ft]:a==="right"},e),style:[{width:c,minWidth:c,maxWidth:c},t],children:o}):null}function vi({shadowVisible:e}){return s.jsx($e,{className:"mantine-datatable-footer-selector-placeholder-cell","data-shadow-visible":e||void 0})}var ki=f.forwardRef(function({className:e,style:t,columns:n,defaultColumnProps:o,selectionVisible:r,selectorCellShadowVisible:i,scrollDiff:a},c){let l=a<0;return s.jsx(cr,{ref:c,className:z("mantine-datatable-footer",e),style:[{position:l?"relative":"sticky",bottom:oe(l?a:0)},t],children:s.jsxs(ve,{children:[r&&s.jsx(vi,{shadowVisible:i}),n.map(({hidden:d,...h})=>{if(d)return null;let{accessor:C,visibleMediaQuery:g,textAlign:u,width:p,footer:j,footerClassName:A,footerStyle:x,noWrap:E,ellipsis:y}={...o,...h};return s.jsx(ji,{className:A,style:x,visibleMediaQuery:g,textAlign:u,width:p,title:j,noWrap:E,ellipsis:y},C)})]})})});function Ti({group:{id:e,columns:t,title:n,textAlign:o,className:r,style:i}}){let a=f.useMemo(()=>t.map(({visibleMediaQuery:d})=>d),[t]),c=bi(a),l=f.useMemo(()=>t.filter(({hidden:d},h)=>!d&&(c==null?void 0:c[h])).length,[t,c]);return l>0?s.jsx($e,{colSpan:l,className:z("mantine-datatable-column-group-header-cell",{[ht]:o==="left",[gt]:o==="center",[ft]:o==="right"},r),style:i,children:n??$t(e)}):null}function Si(){return s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z"})]})}function Ei(){return s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M20 3h-16a1 1 0 0 0 -1 1v2.227l.008 .223a3 3 0 0 0 .772 1.795l4.22 4.641v8.114a1 1 0 0 0 1.316 .949l6 -2l.108 -.043a1 1 0 0 0 .576 -.906v-6.586l4.121 -4.12a3 3 0 0 0 .879 -2.123v-2.171a1 1 0 0 0 -1 -1z",strokeWidth:"0",fill:"currentColor"})]})}function Ai({children:e,isActive:t}){let[n,{close:o,toggle:r}]=jr(!1);return s.jsxs(kn,{withArrow:!0,withinPortal:!0,shadow:"md",opened:n,onClose:o,trapFocus:!0,children:[s.jsx(Tn,{children:s.jsx(le,{className:"mantine-datatable-header-cell-filter-action-icon","data-active":t||void 0,size:"sm",variant:"default",onClick:i=>{i.preventDefault(),r()},children:s.jsx(t?Ei:Si,{})})}),s.jsx(Sn,{onClick:i=>i.stopPropagation(),children:typeof e=="function"?e({close:o}):e})]})}var Mi=e=>{let{accessor:t,columnRef:n}=e,o=f.useRef(null),[r,i]=f.useState(0),{setColumnWidth:a}=Wt(),c=h=>{h.preventDefault(),h.stopPropagation(),document.addEventListener("mousemove",l),document.addEventListener("mouseup",d),document.body.style.cursor="col-resize"},l=h=>{if(!n.current)return;let C=h.clientX-n.current.getBoundingClientRect().right,g=`${n.current.getBoundingClientRect().width+C}px`;n.current.style.width=g,a(t,n.current.style.width),i(-C)},d=()=>{n.current&&(document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",d),document.body.style.cursor="initial",a(t,n.current.style.width),i(0))};return s.jsx("div",{ref:o,onClick:h=>h.stopPropagation(),onMouseDown:c,onDoubleClick:()=>{n.current&&(n.current.style.maxWidth="initial",n.current.style.minWidth="initial",n.current.style.width="initial",a(t,"initial"))},className:"mantine-datatable-header-resizable-handle",style:{right:oe(r)}})};function Ri(){return s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M12 5l0 14"}),s.jsx("path",{d:"M16 9l-4 -4"}),s.jsx("path",{d:"M8 9l4 -4"})]})}function Pi(){return s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M8 7l4 -4l4 4"}),s.jsx("path",{d:"M8 17l4 4l4 -4"}),s.jsx("path",{d:"M12 3l0 18"})]})}function Ni(){return s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),s.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),s.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),s.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),s.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),s.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}function Ii(){return s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M18 6l-12 12"}),s.jsx("path",{d:"M6 6l12 12"})]})}function Bi({className:e,style:t,accessor:n,visibleMediaQuery:o,title:r,sortable:i,draggable:a,toggleable:c,resizable:l,sortIcons:d,textAlign:h,width:C,sortStatus:g,onSortStatusChange:u,filter:p,filtering:j,sortKey:A}){let{setSourceColumn:x,setTargetColumn:E,swapColumns:y,setColumnsToggle:v}=Wt(),[m,k]=f.useState(!1),w=f.useRef(null);if(!ut(o))return null;let S=r??$t(n),P=typeof S=="string"?S:void 0,R=i&&u?L=>{L!=null&&L.defaultPrevented||u({sortKey:A,columnAccessor:n,direction:(g==null?void 0:g.columnAccessor)===n?g.direction==="asc"?"desc":"asc":(g==null?void 0:g.direction)??"asc"})}:void 0,I=L=>{L.stopPropagation(),x(n),k(!1)},D=L=>{L.preventDefault(),E(n),k(!0)},F=()=>{E(n),k(!1),y()},K=()=>{k(!0)},q=()=>{k(!1)},U=L=>{L.stopPropagation(),v(Y=>Y.map(W=>W.accessor===n?{...W,toggled:!1}:W))};return s.jsxs($e,{className:z({"mantine-datatable-header-cell-sortable":i,"mantine-datatable-header-cell-toggleable":c,"mantine-datatable-header-cell-resizable":l},e),style:[{width:C,...l?{minWidth:"1px"}:{minWidth:C,maxWidth:C}},t],role:i?"button":void 0,tabIndex:i?0:void 0,onClick:R,onKeyDown:L=>L.key==="Enter"&&(R==null?void 0:R()),ref:w,children:[s.jsxs(re,{className:"mantine-datatable-header-cell-sortable-group",justify:"space-between",wrap:"nowrap",children:[s.jsxs(pr,{align:"center",w:"100%",className:z({"mantine-datatable-header-cell-draggable":a,"mantine-datatable-header-cell-drag-over":m}),draggable:a,onDragStart:a?I:void 0,onDragEnter:a?K:void 0,onDragOver:a?D:void 0,onDrop:a?F:void 0,onDragLeave:a?q:void 0,children:[a?s.jsx(Me,{role:"img","aria-label":"Drag column",children:s.jsx(le,{className:"mantine-datatable-header-cell-draggable-action-icon",variant:"subtle",size:"xs",onClick:L=>{L.stopPropagation()},children:s.jsx(Ni,{})})}):null,s.jsx(ae,{className:z("mantine-datatable-header-cell-sortable-text",{[ht]:h==="left",[gt]:h==="center",[ft]:h==="right"},Qt,Jt),title:P,children:S})]}),c?s.jsx(Me,{className:"mantine-datatable-header-cell-toggleable-icon",role:"img","aria-label":"Toggle column",children:s.jsx(le,{size:"xs",variant:"light",onClick:U,children:s.jsx(Ii,{})})}):null,i||(g==null?void 0:g.columnAccessor)===n?s.jsx(s.Fragment,{children:(g==null?void 0:g.columnAccessor)===n?s.jsx(Me,{className:z("mantine-datatable-header-cell-sortable-icon",{"mantine-datatable-header-cell-sortable-icon-reversed":g.direction==="desc"}),role:"img","aria-label":`Sorted ${g.direction==="desc"?"descending":"ascending"}`,children:(d==null?void 0:d.sorted)||s.jsx(Ri,{})}):s.jsx(Me,{className:"mantine-datatable-header-cell-sortable-unsorted-icon",role:"img","aria-label":"Not sorted",children:(d==null?void 0:d.unsorted)||s.jsx(Pi,{})})}):null,p?s.jsx(Ai,{isActive:!!j,children:p}):null]}),l?s.jsx(Mi,{accessor:n,columnRef:w}):null]})}var _i=f.forwardRef(function({className:e,style:t,trigger:n,shadowVisible:o,checked:r,indeterminate:i,checkboxProps:a,onChange:c,rowSpan:l},d){let h=!a.disabled;return s.jsx($e,{ref:d,className:z("mantine-datatable-header-selector-cell",{[Ie]:n==="cell"&&h},e),style:t,rowSpan:l,"data-shadow-visible":o||void 0,onClick:n==="cell"&&h?c:void 0,children:s.jsx(dt,{classNames:h?{input:Ie}:void 0,checked:r,indeterminate:i,onChange:c,...a,disabled:!(c||a.onChange)||a.disabled})})}),Li=f.forwardRef(function({selectionColumnHeaderRef:e,className:t,style:n,sortStatus:o,sortIcons:r,onSortStatusChange:i,columns:a,defaultColumnProps:c,groups:l,selectionTrigger:d,selectionVisible:h,selectionChecked:C,selectionIndeterminate:g,onSelectionChange:u,selectionCheckboxProps:p,selectorCellShadowVisible:j,selectionColumnClassName:A,selectionColumnStyle:x},E){let y=h?s.jsx(_i,{ref:e,className:A,style:x,trigger:d,shadowVisible:j,checked:C,indeterminate:g,checkboxProps:p,onChange:u,rowSpan:l?2:void 0}):null,{columnsToggle:v,setColumnsToggle:m}=Wt(),[k,w]=f.useState(!1),S=a.some(I=>I.toggleable),P=S?Object.fromEntries(a.map(({accessor:I,title:D})=>[I,D??$t(String(I))])):void 0,R=s.jsxs(dr,{className:z("mantine-datatable-header",t),style:n,ref:E,onContextMenu:S?I=>{I.preventDefault(),w(D=>!D)}:void 0,children:[l&&s.jsxs(ve,{children:[y,l.map(I=>s.jsx(Ti,{group:I},I.id))]}),s.jsxs(ve,{children:[!l&&y,a.map(({hidden:I,...D},F)=>{if(I)return null;let{accessor:K,visibleMediaQuery:q,textAlign:U,width:L,title:Y,sortable:W,draggable:de,toggleable:ue,resizable:he,titleClassName:M,titleStyle:T,filter:N,filtering:_,sortKey:H}={...c,...D};return s.jsx(Bi,{accessor:K,className:M,style:T,visibleMediaQuery:q,textAlign:U,width:L,title:Y,sortable:W,draggable:de,toggleable:ue,resizable:he&&F<a.length-1,sortStatus:o,sortIcons:r,sortKey:H,onSortStatusChange:i,filter:N,filtering:_},K)})]})]});return S?s.jsxs(kn,{position:"bottom",withArrow:!0,shadow:"md",opened:k,onChange:w,children:[s.jsx(Tn,{children:R}),s.jsx(Sn,{children:s.jsx(me,{children:v.filter(I=>I.toggleable).map(I=>s.jsx(re,{children:s.jsx(dt,{classNames:{label:"mantine-datatable-header-column-toggle-checkbox-label"},size:"xs",label:P[I.accessor],checked:I.toggled,onChange:D=>{m(v.map(F=>F.accessor===I.accessor?{...F,toggled:D.currentTarget.checked}:F))}})},I.accessor))})})]}):R});function Fi({pt:e,pb:t,fetching:n,customContent:o,backgroundBlur:r,size:i,type:a,color:c}){return s.jsx(Me,{pt:e,pb:t,className:z("mantine-datatable-loader",{"mantine-datatable-loader-fetching":n}),style:[{backdropFilter:r?`blur(${r}px)`:void 0}],children:n&&(o||s.jsx(br,{size:i,type:a,color:c}))})}function V(e,t,n){return e?vr({color:typeof e=="object"?e[n]:e,theme:t}).value:void 0}function Di({theme:e,c:t,backgroundColor:n,borderColor:o,rowBorderColor:r,stripedColor:i,highlightOnHoverColor:a}){return{"--mantine-datatable-color-light":V(t,e,"light"),"--mantine-datatable-color-dark":V(t,e,"dark"),"--mantine-datatable-background-color-light":V(n,e,"light"),"--mantine-datatable-background-color-dark":V(n,e,"dark"),"--mantine-datatable-border-color-light":V(o,e,"light"),"--mantine-datatable-border-color-dark":V(o,e,"dark"),"--mantine-datatable-row-border-color-light":V(r,e,"light"),"--mantine-datatable-row-border-color-dark":V(r,e,"dark"),"--mantine-datatable-striped-color-light":V(i,e,"light"),"--mantine-datatable-striped-color-dark":V(i,e,"dark"),"--mantine-datatable-highlight-on-hover-color-light":V(a,e,"light"),"--mantine-datatable-highlight-on-hover-color-dark":V(a,e,"dark")}}function zn({theme:e,paginationActiveTextColor:t,paginationActiveBackgroundColor:n}){return{"--mantine-datatable-pagination-active-text-color-light":V(t,e,"light"),"--mantine-datatable-pagination-active-text-color-dark":V(t,e,"dark"),"--mantine-datatable-pagination-active-background-color-light":V(n,e,"light"),"--mantine-datatable-pagination-active-background-color-dark":V(n,e,"dark")}}function zi({theme:e,color:t,backgroundColor:n}){return{"--mantine-datatable-row-color-light":V(t,e,"light"),"--mantine-datatable-row-color-dark":V(t,e,"dark"),"--mantine-datatable-row-background-color-light":V(n,e,"light"),"--mantine-datatable-row-background-color-dark":V(n,e,"dark")}}function Vi(){return s.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),s.jsx("path",{d:"M8 9l4 -4l4 4"}),s.jsx("path",{d:"M16 15l-4 4l-4 -4"})]})}var wn={xs:oe(22),sm:oe(26),md:oe(32),lg:oe(38),xl:oe(44)};function Oi({size:e,label:t,values:n,value:o,activeTextColor:r,activeBackgroundColor:i,onChange:a}){return s.jsxs(re,{gap:"xs",children:[s.jsx(ee,{component:"div",size:e,children:t}),s.jsxs(O,{withinPortal:!0,withArrow:!0,classNames:{arrow:"mantine-datatable-page-size-selector-menu-arrow"},children:[s.jsx(Cr,{children:s.jsx(Re,{size:e,variant:"default",classNames:{section:"mantine-datatable-page-size-selector-button-icon"},rightSection:s.jsx(Vi,{}),style:[{fontWeight:"normal"},c=>({height:wn[e],paddingLeft:c.spacing[e],paddingRight:c.spacing[e]})],children:o})}),s.jsx(xr,{children:n.map(c=>{let l=c===o;return s.jsx(wr,{className:z({"mantine-datatable-page-size-selector-active":l}),style:[{height:wn[e]},l&&(r||i)?d=>zn({theme:d,paginationActiveTextColor:r,paginationActiveBackgroundColor:i}):void 0],disabled:l,onClick:()=>a(c),children:s.jsx(ee,{component:"div",size:e,children:c})},c)})})]})]})}var Ui=f.forwardRef(function({className:e,style:t,fetching:n,page:o,onPageChange:r,paginationWithEdges:i,paginationWithControls:a,paginationActiveTextColor:c,paginationActiveBackgroundColor:l,paginationSize:d,loadingText:h,noRecordsText:C,paginationText:g,totalRecords:u,recordsPerPage:p,onRecordsPerPageChange:j,recordsPerPageLabel:A,recordsPerPageOptions:x,recordsLength:E,horizontalSpacing:y,paginationWrapBreakpoint:v,getPaginationControlProps:m},k){let w;if(n)w=h;else if(!u)w=C;else{let P=(o-1)*p+1,R=P+E-1;w=g({from:P,to:R,totalRecords:u})}let S=ut(({breakpoints:P})=>`(min-width: ${typeof v=="number"?`${oe(v)}rem`:P[v]||v})`);return s.jsxs(ae,{ref:k,px:y??"xs",py:"xs",className:z("mantine-datatable-pagination",e),style:[{flexDirection:S?"row":"column"},t],children:[s.jsx(ee,{component:"div",className:"mantine-datatable-pagination-text",size:d,children:w}),x&&s.jsx(Oi,{activeTextColor:c,activeBackgroundColor:l,size:d,label:A,values:x,value:p,onChange:j}),s.jsx(ur,{classNames:{root:z("mantine-datatable-pagination-pages",{"mantine-datatable-pagination-pages-fetching":n||!E}),control:"mantine-datatable-pagination-pages-control"},style:c||l?P=>zn({theme:P,paginationActiveTextColor:c,paginationActiveBackgroundColor:l}):void 0,withEdges:i,withControls:a,value:o,onChange:r,size:d,total:Math.ceil(u/p),getControlProps:m})]})});function Hi({className:e,style:t,visibleMediaQuery:n,record:o,index:r,onClick:i,onDoubleClick:a,onContextMenu:c,noWrap:l,ellipsis:d,textAlign:h,width:C,accessor:g,render:u,defaultRender:p,customCellAttributes:j}){return ut(n)?s.jsx(Ut,{className:z({[Qt]:l||d,[Jt]:d,[Ie]:i||a,[Dn]:c,[ht]:h==="left",[gt]:h==="center",[ft]:h==="right"},e),style:[{width:C,minWidth:C,maxWidth:C},t],onClick:i,onDoubleClick:a,onContextMenu:c,...j==null?void 0:j(o,r),children:u?u(o,r):p?p(o,r,g):Fn(o,g)}):null}function Ki({open:e,colSpan:t,content:n,collapseProps:o}){let{expanded:r,visible:i}=wi(e,o==null?void 0:o.transitionDuration);return i?s.jsxs(s.Fragment,{children:[s.jsx(ve,{}),s.jsx(ve,{children:s.jsx(Ut,{className:"mantine-datatable-row-expansion-cell",colSpan:t,children:s.jsx(kr,{in:r,...o,children:s.jsx("div",{className:"mantine-datatable-row-expansion-cell-content",children:n()})})})})]}):null}function Wi({className:e,style:t,record:n,index:o,trigger:r,onChange:i,withRightShadow:a,checkboxProps:c,getCheckboxProps:l,...d}){let h={...c,...l(n,o)},C=!d.disabled&&!h.disabled,g=u=>{u.stopPropagation(),r==="cell"&&C&&(i==null||i(u))};return s.jsx(Ut,{className:z("mantine-datatable-row-selector-cell",{[Ie]:r==="cell"&&C},e),style:t,"data-shadow-visible":a||void 0,onClick:g,children:s.jsx(dt,{classNames:C?{input:Ie}:void 0,onChange:i,...d,...h})})}function $i({record:e,index:t,columns:n,defaultColumnProps:o,defaultColumnRender:r,selectionTrigger:i,selectionVisible:a,selectionChecked:c,onSelectionChange:l,isRecordSelectable:d,selectionCheckboxProps:h,getSelectionCheckboxProps:C,onClick:g,onDoubleClick:u,onContextMenu:p,onCellClick:j,onCellDoubleClick:A,onCellContextMenu:x,expansion:E,customAttributes:y,color:v,backgroundColor:m,className:k,style:w,selectorCellShadowVisible:S,selectionColumnClassName:P,selectionColumnStyle:R,rowFactory:I}){function D(){return s.jsxs(s.Fragment,{children:[a&&s.jsx(Wi,{className:P,style:R,record:e,index:t,trigger:i,withRightShadow:S,checked:c,disabled:!l||(d?!d(e,t):!1),onChange:l,checkboxProps:h,getCheckboxProps:C}),n.map(({hidden:q,hiddenContent:U,...L},Y)=>{if(q||U)return null;let{accessor:W,visibleMediaQuery:de,textAlign:ue,noWrap:he,ellipsis:M,width:T,render:N,cellsClassName:_,cellsStyle:H,customCellAttributes:ge}={...o,...L};return s.jsx(Hi,{className:typeof _=="function"?_(e,t):_,style:H==null?void 0:H(e,t),visibleMediaQuery:de,record:e,index:t,onClick:j?te=>j({event:te,record:e,index:t,column:L,columnIndex:Y}):void 0,onDoubleClick:A?te=>A({event:te,record:e,index:t,column:L,columnIndex:Y}):void 0,onContextMenu:x?te=>x({event:te,record:e,index:t,column:L,columnIndex:Y}):void 0,accessor:W,textAlign:ue,noWrap:he,ellipsis:M,width:T,render:N,defaultRender:r,customCellAttributes:ge},W)})]})}let F=E&&s.jsx(Ki,{colSpan:n.filter(({hidden:q})=>!q).length+(a?1:0),open:E.isRowExpanded(e),content:E.content({record:e,index:t}),collapseProps:E.collapseProps}),K=Qi({record:e,index:t,selectionChecked:c,onClick:g,onDoubleClick:u,onContextMenu:p,expansion:E,customAttributes:y,color:v,backgroundColor:m,className:k,style:w});return I?I({record:e,index:t,rowProps:K,children:s.jsx(D,{}),expandedElement:F}):s.jsxs(s.Fragment,{children:[s.jsx(ve,{...K,children:s.jsx(D,{})}),F]})}function Qi({record:e,index:t,selectionChecked:n,onClick:o,onDoubleClick:r,onContextMenu:i,expansion:a,customAttributes:c,color:l,backgroundColor:d,className:h,style:C}){return{className:z("mantine-datatable-row",{[Ie]:o||r||(a==null?void 0:a.isExpandable({record:e,index:t}))&&(a==null?void 0:a.expandOnClick)},{[Dn]:i},typeof h=="function"?h(e,t):h),"data-selected":n||void 0,onClick:g=>{if(a){let{isExpandable:u,isRowExpanded:p,expandOnClick:j,expandRow:A,collapseRow:x}=a;u({record:e,index:t})&&j&&(p(e)?x(e):A(e))}o==null||o({event:g,record:e,index:t})},onDoubleClick:r?g=>r({event:g,record:e,index:t}):void 0,onContextMenu:i?g=>i({event:g,record:e,index:t}):void 0,style:[l||d?g=>{let u=l==null?void 0:l(e,t),p=d==null?void 0:d(e,t);return zi({theme:g,color:u,backgroundColor:p})}:void 0,C==null?void 0:C(e,t)],...(c==null?void 0:c(e,t))??{}}}function Ji({topShadowVisible:e,leftShadowVisible:t,leftShadowBehind:n,rightShadowVisible:o,rightShadowBehind:r,bottomShadowVisible:i,headerHeight:a,footerHeight:c,onScrollPositionChange:l,children:d,viewportRef:h,scrollAreaProps:C}){return s.jsxs(yr,{...C,viewportRef:h,classNames:{root:"mantine-datatable-scroll-area",scrollbar:"mantine-datatable-scroll-area-scrollbar",thumb:"mantine-datatable-scroll-area-thumb",corner:"mantine-datatable-scroll-area-corner"},onScrollPositionChange:l,children:[d,s.jsx(ae,{className:z("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-top-shadow",{"mantine-datatable-scroll-area-shadow-visible":e}),style:{top:a?oe(a):0}}),s.jsx("div",{className:z("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-left-shadow",{"mantine-datatable-scroll-area-shadow-visible":t,"mantine-datatable-scroll-area-shadow-behind":n})}),s.jsx("div",{className:z("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-right-shadow",{"mantine-datatable-scroll-area-shadow-visible":o,"mantine-datatable-scroll-area-shadow-behind":r})}),s.jsx(ae,{className:z("mantine-datatable-scroll-area-shadow","mantine-datatable-scroll-area-bottom-shadow",{"mantine-datatable-scroll-area-shadow-visible":i}),style:{bottom:c?oe(c+1):0}})]})}function qi({withTableBorder:e,borderRadius:t,textSelectionDisabled:n,height:o="100%",minHeight:r,maxHeight:i,shadow:a,verticalAlign:c="center",fetching:l,columns:d,storeColumnsKey:h,groups:C,pinFirstColumn:g,pinLastColumn:u,defaultColumnProps:p,defaultColumnRender:j,idAccessor:A="id",records:x,selectionTrigger:E="checkbox",selectedRecords:y,onSelectedRecordsChange:v,selectionColumnClassName:m,selectionColumnStyle:k,isRecordSelectable:w,selectionCheckboxProps:S,allRecordsSelectionCheckboxProps:P={"aria-label":"Select all records"},getRecordSelectionCheckboxProps:R=(Z,be)=>({"aria-label":`Select record ${be+1}`}),sortStatus:I,sortIcons:D,onSortStatusChange:F,horizontalSpacing:K,page:q,onPageChange:U,totalRecords:L,recordsPerPage:Y,onRecordsPerPageChange:W,recordsPerPageOptions:de,recordsPerPageLabel:ue="Records per page",paginationWithEdges:he,paginationWithControls:M,paginationActiveTextColor:T,paginationActiveBackgroundColor:N,paginationSize:_="sm",paginationText:H=({from:Z,to:be,totalRecords:Ce})=>`${Z} - ${be} / ${Ce}`,paginationWrapBreakpoint:ge="sm",getPaginationControlProps:te=Z=>Z==="previous"?{"aria-label":"Previous page"}:Z==="next"?{"aria-label":"Next page"}:{},loaderBackgroundBlur:xt,customLoader:no,loaderSize:oo,loaderType:ro,loaderColor:io,loadingText:so="...",emptyState:ao,noRecordsText:tn="No records",noRecordsIcon:lo,highlightOnHover:co,striped:uo,noHeader:ho,onRowClick:go,onRowDoubleClick:fo,onRowContextMenu:mo,onCellClick:po,onCellDoubleClick:bo,onCellContextMenu:Co,onScroll:qe,onScrollToTop:Ye,onScrollToBottom:Ge,onScrollToLeft:Ze,onScrollToRight:Xe,c:xo,backgroundColor:wo,borderColor:yo,rowBorderColor:jo,stripedColor:vo,highlightOnHoverColor:ko,rowColor:To,rowBackgroundColor:So,rowExpansion:Eo,rowClassName:Ao,rowStyle:Mo,customRowAttributes:Ro,scrollViewportRef:Po,scrollAreaProps:No,tableRef:Io,bodyRef:Bo,m:_o,my:Lo,mx:Fo,mt:Do,mb:zo,ml:Vo,mr:Oo,className:Uo,classNames:$,style:Ho,styles:Q,rowFactory:Ko,tableWrapper:wt,...nn}){let{ref:Z,width:be,height:Ce}=Ae(),De=f.useMemo(()=>(C==null?void 0:C.flatMap(B=>B.columns))??d,[d,C]),on=ui({key:h,columns:De}),{ref:Wo,height:yt}=Ae(),{ref:$o,width:jt,height:ze}=Ae(),{ref:Qo,height:Jo}=Ae(),{ref:qo,height:rn}=Ae(),{ref:Yo,width:Go}=Ae(),Zo=Bt($o,Io),Xo=Bt(Z,Po),[vt,sn]=f.useState(!0),[kt,an]=f.useState(!0),[Ve,ln]=f.useState(!0),[et,cn]=f.useState(!0),er=xi({rowExpansion:Eo,records:x,idAccessor:A}),Tt=f.useCallback(()=>{var Te,Se;let B=((Te=Z.current)==null?void 0:Te.scrollTop)??0,X=((Se=Z.current)==null?void 0:Se.scrollLeft)??0;if(l||ze<=Ce)sn(!0),an(!0);else{let ne=B===0,se=ze-B-Ce<1;sn(ne),an(se),ne&&ne!==vt&&(Ye==null||Ye()),se&&se!==kt&&(Ge==null||Ge())}if(l||jt===be)ln(!0),cn(!0);else{let ne=X===0,se=jt-X-be<1;ln(ne),cn(se),ne&&ne!==Ve&&(Ze==null||Ze()),se&&se!==et&&(Xe==null||Xe())}},[l,Ge,Ze,Xe,Ye,Ce,Z,be,kt,Ve,et,vt,ze,jt]);hi(Tt,[Tt]);let dn=hr(Tt,50),tr=f.useCallback(B=>{qe==null||qe(B),dn()},[dn,qe]),nr=f.useCallback(B=>{var X;(X=Z.current)==null||X.scrollTo({top:0,left:0}),U(B)},[U,Z]),tt=x==null?void 0:x.length,un=x==null?void 0:x.map(B=>J(B,A)),ke=!!y,xe=y==null?void 0:y.map(B=>J(B,A)),hn=un!==void 0&&xe!==void 0&&xe.length>0,Oe=w?x==null?void 0:x.filter(w):x,nt=Oe==null?void 0:Oe.map(B=>J(B,A)),ot=hn&&nt.every(B=>xe.includes(B)),or=hn&&nt.some(B=>xe.includes(B)),rr=f.useCallback(()=>{y&&v&&v(ot?y.filter(B=>!nt.includes(J(B,A))):Et([...y,...Oe],B=>J(B,A)))},[ot,A,v,nt,Oe,y]),{lastSelectionChangeIndex:rt,setLastSelectionChangeIndex:ir}=gi(un),St=ke&&!Ve&&!g,sr={m:_o,my:Lo,mx:Fo,mt:Do,mb:zo,ml:Vo,mr:Oo},ar=f.useCallback(({children:B})=>wt?wt({children:B}):B,[wt]);return s.jsx(xn,{...on,children:s.jsxs(ae,{...sr,className:z("mantine-datatable",{"mantine-datatable-with-border":e},Uo,$==null?void 0:$.root),style:[B=>({...Di({theme:B,c:xo,backgroundColor:wo,borderColor:yo,rowBorderColor:jo,stripedColor:vo,highlightOnHoverColor:ko}),borderRadius:B.radius[t]||t,boxShadow:B.shadows[a]||a,height:o,minHeight:r,maxHeight:i}),Ho,Q==null?void 0:Q.root,{position:"relative"}],children:[s.jsx(Ji,{viewportRef:Xo,topShadowVisible:!vt,leftShadowVisible:!Ve,leftShadowBehind:ke||!!g,rightShadowVisible:!et,rightShadowBehind:u,bottomShadowVisible:!kt,headerHeight:yt,footerHeight:Jo,onScrollPositionChange:tr,scrollAreaProps:No,children:s.jsx(ar,{children:s.jsxs(gr,{ref:Zo,horizontalSpacing:K,className:z("mantine-datatable-table",{[yi]:n,"mantine-datatable-vertical-align-top":c==="top","mantine-datatable-vertical-align-bottom":c==="bottom","mantine-datatable-last-row-border-bottom-visible":nn.withRowBorders&&ze<Ce,"mantine-datatable-pin-last-column":u,"mantine-datatable-pin-last-column-scrolled":!et&&u,"mantine-datatable-selection-column-visible":ke,"mantine-datatable-pin-first-column":g,"mantine-datatable-pin-first-column-scrolled":!Ve&&g},$==null?void 0:$.table),style:{...Q==null?void 0:Q.table,"--mantine-datatable-selection-column-width":`${Go}px`},"data-striped":tt&&uo||void 0,"data-highlight-on-hover":co||void 0,...nn,children:[ho?null:s.jsx(xn,{...on,children:s.jsx(Li,{ref:Wo,selectionColumnHeaderRef:Yo,className:$==null?void 0:$.header,style:Q==null?void 0:Q.header,columns:De,defaultColumnProps:p,groups:C,sortStatus:I,sortIcons:D,onSortStatusChange:F,selectionTrigger:E,selectionVisible:ke,selectionChecked:ot,selectionIndeterminate:or&&!ot,onSelectionChange:rr,selectionCheckboxProps:{...S,...P},selectorCellShadowVisible:St,selectionColumnClassName:m,selectionColumnStyle:k})}),s.jsx("tbody",{ref:Bo,children:tt?x.map((B,X)=>{let Te=J(B,A),Se=(xe==null?void 0:xe.includes(Te))||!1,ne;return v&&y&&(ne=se=>{if(se.nativeEvent.shiftKey&&rt!==null){let Ee=x.filter(X>rt?(we,ye)=>ye>=rt&&ye<=X&&(w?w(we,ye):!0):(we,ye)=>ye>=X&&ye<=rt&&(w?w(we,ye):!0));v(Se?Ci(y,Ee,we=>J(we,A)):Et([...y,...Ee],we=>J(we,A)))}else v(Se?y.filter(Ee=>J(Ee,A)!==Te):Et([...y,B],Ee=>J(Ee,A)));ir(X)}),s.jsx($i,{record:B,index:X,columns:De,defaultColumnProps:p,defaultColumnRender:j,selectionTrigger:E,selectionVisible:ke,selectionChecked:Se,onSelectionChange:ne,isRecordSelectable:w,selectionCheckboxProps:S,getSelectionCheckboxProps:R,onClick:go,onDoubleClick:fo,onCellClick:po,onCellDoubleClick:bo,onContextMenu:mo,onCellContextMenu:Co,expansion:er,color:To,backgroundColor:So,className:Ao,style:Mo,customAttributes:Ro,selectorCellShadowVisible:St,selectionColumnClassName:m,selectionColumnStyle:k,idAccessor:A,rowFactory:Ko},Te)}):s.jsx(li,{})}),De.some(({footer:B})=>B)&&s.jsx(ki,{ref:Qo,className:$==null?void 0:$.footer,style:Q==null?void 0:Q.footer,columns:De,defaultColumnProps:p,selectionVisible:ke,selectorCellShadowVisible:St,scrollDiff:ze-Ce})]})})}),q&&s.jsx(Ui,{ref:qo,className:$==null?void 0:$.pagination,style:Q==null?void 0:Q.pagination,horizontalSpacing:K,fetching:l,page:q,onPageChange:nr,totalRecords:L,recordsPerPage:Y,onRecordsPerPageChange:W,recordsPerPageOptions:de,recordsPerPageLabel:ue,paginationWithEdges:he,paginationWithControls:M,paginationActiveTextColor:T,paginationActiveBackgroundColor:N,paginationSize:_,paginationText:H,paginationWrapBreakpoint:ge,getPaginationControlProps:te,noRecordsText:tn,loadingText:so,recordsLength:tt}),s.jsx(Fi,{pt:yt,pb:rn,fetching:l,backgroundBlur:xt,customContent:no,size:oo,type:ro,color:io}),s.jsx(di,{pt:yt,pb:rn,icon:lo,text:tn,active:!l&&!tt,children:ao})]})})}var Yi=f.forwardRef(function({children:e,isDragging:t,...n},o){let r=f.useRef(null),i=Bt(r,o);return f.useEffect(()=>{if(!r.current||!t)return;let a=r.current.parentElement.parentElement.children[0].children[0];for(let c=0;c<a.children.length;c++){let l=a.children[c].getBoundingClientRect(),d=r.current.children[c];d.style.height=l.height+"px",d.style.width=l.width+"px",d.style.minWidth=l.width+"px",d.style.maxWidth=l.width+"px"}},[t,e]),s.jsx(ve,{"data-is-dragging":t,ref:i,...n,children:e})});Yi.displayName="DataTableDraggableRow";var Qe={},Gi=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Vn={},G={};let qt;const Zi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];G.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};G.getSymbolTotalCodewords=function(t){return Zi[t]};G.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};G.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');qt=t};G.isKanjiModeEnabled=function(){return typeof qt<"u"};G.toSJIS=function(t){return qt(t)};var mt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},e.from=function(o,r){if(e.isValid(o))return o;try{return t(o)}catch{return r}}})(mt);function On(){this.buffer=[],this.length=0}On.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Xi=On;function Je(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Je.prototype.set=function(e,t,n,o){const r=e*this.size+t;this.data[r]=n,o&&(this.reservedBit[r]=!0)};Je.prototype.get=function(e,t){return this.data[e*this.size+t]};Je.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Je.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var es=Je,Un={};(function(e){const t=G.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const r=Math.floor(o/7)+2,i=t(o),a=i===145?26:Math.ceil((i-13)/(2*r-2))*2,c=[i-7];for(let l=1;l<r-1;l++)c[l]=c[l-1]-a;return c.push(6),c.reverse()},e.getPositions=function(o){const r=[],i=e.getRowColCoords(o),a=i.length;for(let c=0;c<a;c++)for(let l=0;l<a;l++)c===0&&l===0||c===0&&l===a-1||c===a-1&&l===0||r.push([i[c],i[l]]);return r}})(Un);var Hn={};const ts=G.getSymbolSize,yn=7;Hn.getPositions=function(t){const n=ts(t);return[[0,0],[n-yn,0],[0,n-yn]]};var Kn={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const i=r.size;let a=0,c=0,l=0,d=null,h=null;for(let C=0;C<i;C++){c=l=0,d=h=null;for(let g=0;g<i;g++){let u=r.get(C,g);u===d?c++:(c>=5&&(a+=t.N1+(c-5)),d=u,c=1),u=r.get(g,C),u===h?l++:(l>=5&&(a+=t.N1+(l-5)),h=u,l=1)}c>=5&&(a+=t.N1+(c-5)),l>=5&&(a+=t.N1+(l-5))}return a},e.getPenaltyN2=function(r){const i=r.size;let a=0;for(let c=0;c<i-1;c++)for(let l=0;l<i-1;l++){const d=r.get(c,l)+r.get(c,l+1)+r.get(c+1,l)+r.get(c+1,l+1);(d===4||d===0)&&a++}return a*t.N2},e.getPenaltyN3=function(r){const i=r.size;let a=0,c=0,l=0;for(let d=0;d<i;d++){c=l=0;for(let h=0;h<i;h++)c=c<<1&2047|r.get(d,h),h>=10&&(c===1488||c===93)&&a++,l=l<<1&2047|r.get(h,d),h>=10&&(l===1488||l===93)&&a++}return a*t.N3},e.getPenaltyN4=function(r){let i=0;const a=r.data.length;for(let l=0;l<a;l++)i+=r.data[l];return Math.abs(Math.ceil(i*100/a/5)-10)*t.N4};function n(o,r,i){switch(o){case e.Patterns.PATTERN000:return(r+i)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(r+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return r*i%2+r*i%3===0;case e.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case e.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(r,i){const a=i.size;for(let c=0;c<a;c++)for(let l=0;l<a;l++)i.isReserved(l,c)||i.xor(l,c,n(r,l,c))},e.getBestMask=function(r,i){const a=Object.keys(e.Patterns).length;let c=0,l=1/0;for(let d=0;d<a;d++){i(d),e.applyMask(d,r);const h=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(d,r),h<l&&(l=h,c=d)}return c}})(Kn);var pt={};const fe=mt,it=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],st=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pt.getBlocksCount=function(t,n){switch(n){case fe.L:return it[(t-1)*4+0];case fe.M:return it[(t-1)*4+1];case fe.Q:return it[(t-1)*4+2];case fe.H:return it[(t-1)*4+3];default:return}};pt.getTotalCodewordsCount=function(t,n){switch(n){case fe.L:return st[(t-1)*4+0];case fe.M:return st[(t-1)*4+1];case fe.Q:return st[(t-1)*4+2];case fe.H:return st[(t-1)*4+3];default:return}};var Wn={},bt={};const He=new Uint8Array(512),lt=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)He[n]=t,lt[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)He[n]=He[n-255]})();bt.log=function(t){if(t<1)throw new Error("log("+t+")");return lt[t]};bt.exp=function(t){return He[t]};bt.mul=function(t,n){return t===0||n===0?0:He[lt[t]+lt[n]]};(function(e){const t=bt;e.mul=function(o,r){const i=new Uint8Array(o.length+r.length-1);for(let a=0;a<o.length;a++)for(let c=0;c<r.length;c++)i[a+c]^=t.mul(o[a],r[c]);return i},e.mod=function(o,r){let i=new Uint8Array(o);for(;i.length-r.length>=0;){const a=i[0];for(let l=0;l<r.length;l++)i[l]^=t.mul(r[l],a);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},e.generateECPolynomial=function(o){let r=new Uint8Array([1]);for(let i=0;i<o;i++)r=e.mul(r,new Uint8Array([1,t.exp(i)]));return r}})(Wn);const $n=Wn;function Yt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Yt.prototype.initialize=function(t){this.degree=t,this.genPoly=$n.generateECPolynomial(this.degree)};Yt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=$n.mod(n,this.genPoly),r=this.degree-o.length;if(r>0){const i=new Uint8Array(this.degree);return i.set(o,r),i}return o};var ns=Yt,Qn={},pe={},Gt={};Gt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ie={};const Jn="[0-9]+",os="[A-Z $%*+\\-./:]+";let We="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";We=We.replace(/u/g,"\\u");const rs="(?:(?![A-Z0-9 $%*+\\-./:]|"+We+`)(?:.|[\r
]))+`;ie.KANJI=new RegExp(We,"g");ie.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ie.BYTE=new RegExp(rs,"g");ie.NUMERIC=new RegExp(Jn,"g");ie.ALPHANUMERIC=new RegExp(os,"g");const is=new RegExp("^"+We+"$"),ss=new RegExp("^"+Jn+"$"),as=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ie.testKanji=function(t){return is.test(t)};ie.testNumeric=function(t){return ss.test(t)};ie.testAlphanumeric=function(t){return as.test(t)};(function(e){const t=Gt,n=ie;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,a){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?i.ccBits[0]:a<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function o(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(i,a){if(e.isValid(i))return i;try{return o(i)}catch{return a}}})(pe);(function(e){const t=G,n=pt,o=mt,r=pe,i=Gt,a=7973,c=t.getBCHDigit(a);function l(g,u,p){for(let j=1;j<=40;j++)if(u<=e.getCapacity(j,p,g))return j}function d(g,u){return r.getCharCountIndicator(g,u)+4}function h(g,u){let p=0;return g.forEach(function(j){const A=d(j.mode,u);p+=A+j.getBitsLength()}),p}function C(g,u){for(let p=1;p<=40;p++)if(h(g,p)<=e.getCapacity(p,u,r.MIXED))return p}e.from=function(u,p){return i.isValid(u)?parseInt(u,10):p},e.getCapacity=function(u,p,j){if(!i.isValid(u))throw new Error("Invalid QR Code version");typeof j>"u"&&(j=r.BYTE);const A=t.getSymbolTotalCodewords(u),x=n.getTotalCodewordsCount(u,p),E=(A-x)*8;if(j===r.MIXED)return E;const y=E-d(j,u);switch(j){case r.NUMERIC:return Math.floor(y/10*3);case r.ALPHANUMERIC:return Math.floor(y/11*2);case r.KANJI:return Math.floor(y/13);case r.BYTE:default:return Math.floor(y/8)}},e.getBestVersionForData=function(u,p){let j;const A=o.from(p,o.M);if(Array.isArray(u)){if(u.length>1)return C(u,A);if(u.length===0)return 1;j=u[0]}else j=u;return l(j.mode,j.getLength(),A)},e.getEncodedBits=function(u){if(!i.isValid(u)||u<7)throw new Error("Invalid QR Code version");let p=u<<12;for(;t.getBCHDigit(p)-c>=0;)p^=a<<t.getBCHDigit(p)-c;return u<<12|p}})(Qn);var qn={};const Dt=G,Yn=1335,ls=21522,jn=Dt.getBCHDigit(Yn);qn.getEncodedBits=function(t,n){const o=t.bit<<3|n;let r=o<<10;for(;Dt.getBCHDigit(r)-jn>=0;)r^=Yn<<Dt.getBCHDigit(r)-jn;return(o<<10|r)^ls};var Gn={};const cs=pe;function Be(e){this.mode=cs.NUMERIC,this.data=e.toString()}Be.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Be.prototype.getLength=function(){return this.data.length};Be.prototype.getBitsLength=function(){return Be.getBitsLength(this.data.length)};Be.prototype.write=function(t){let n,o,r;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),r=parseInt(o,10),t.put(r,10);const i=this.data.length-n;i>0&&(o=this.data.substr(n),r=parseInt(o,10),t.put(r,i*3+1))};var ds=Be;const us=pe,At=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _e(e){this.mode=us.ALPHANUMERIC,this.data=e}_e.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};_e.prototype.getLength=function(){return this.data.length};_e.prototype.getBitsLength=function(){return _e.getBitsLength(this.data.length)};_e.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=At.indexOf(this.data[n])*45;o+=At.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(At.indexOf(this.data[n]),6)};var hs=_e;const gs=pe;function Le(e){this.mode=gs.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Le.getBitsLength=function(t){return t*8};Le.prototype.getLength=function(){return this.data.length};Le.prototype.getBitsLength=function(){return Le.getBitsLength(this.data.length)};Le.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var fs=Le;const ms=pe,ps=G;function Fe(e){this.mode=ms.KANJI,this.data=e}Fe.getBitsLength=function(t){return t*13};Fe.prototype.getLength=function(){return this.data.length};Fe.prototype.getBitsLength=function(){return Fe.getBitsLength(this.data.length)};Fe.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=ps.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var bs=Fe,Zn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,r){var i={},a={};a[o]=0;var c=t.PriorityQueue.make();c.push(o,0);for(var l,d,h,C,g,u,p,j,A;!c.empty();){l=c.pop(),d=l.value,C=l.cost,g=n[d]||{};for(h in g)g.hasOwnProperty(h)&&(u=g[h],p=C+u,j=a[h],A=typeof a[h]>"u",(A||j>p)&&(a[h]=p,c.push(h,p),i[h]=d))}if(typeof r<"u"&&typeof a[r]>"u"){var x=["Could not find a path from ",o," to ",r,"."].join("");throw new Error(x)}return i},extract_shortest_path_from_predecessor_list:function(n,o){for(var r=[],i=o;i;)r.push(i),n[i],i=n[i];return r.reverse(),r},find_path:function(n,o,r){var i=t.single_source_shortest_paths(n,o,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,r={},i;n=n||{};for(i in o)o.hasOwnProperty(i)&&(r[i]=o[i]);return r.queue=[],r.sorter=n.sorter||o.default_sorter,r},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var r={value:n,cost:o};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Zn);var Cs=Zn.exports;(function(e){const t=pe,n=ds,o=hs,r=fs,i=bs,a=ie,c=G,l=Cs;function d(x){return unescape(encodeURIComponent(x)).length}function h(x,E,y){const v=[];let m;for(;(m=x.exec(y))!==null;)v.push({data:m[0],index:m.index,mode:E,length:m[0].length});return v}function C(x){const E=h(a.NUMERIC,t.NUMERIC,x),y=h(a.ALPHANUMERIC,t.ALPHANUMERIC,x);let v,m;return c.isKanjiModeEnabled()?(v=h(a.BYTE,t.BYTE,x),m=h(a.KANJI,t.KANJI,x)):(v=h(a.BYTE_KANJI,t.BYTE,x),m=[]),E.concat(y,v,m).sort(function(w,S){return w.index-S.index}).map(function(w){return{data:w.data,mode:w.mode,length:w.length}})}function g(x,E){switch(E){case t.NUMERIC:return n.getBitsLength(x);case t.ALPHANUMERIC:return o.getBitsLength(x);case t.KANJI:return i.getBitsLength(x);case t.BYTE:return r.getBitsLength(x)}}function u(x){return x.reduce(function(E,y){const v=E.length-1>=0?E[E.length-1]:null;return v&&v.mode===y.mode?(E[E.length-1].data+=y.data,E):(E.push(y),E)},[])}function p(x){const E=[];for(let y=0;y<x.length;y++){const v=x[y];switch(v.mode){case t.NUMERIC:E.push([v,{data:v.data,mode:t.ALPHANUMERIC,length:v.length},{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.ALPHANUMERIC:E.push([v,{data:v.data,mode:t.BYTE,length:v.length}]);break;case t.KANJI:E.push([v,{data:v.data,mode:t.BYTE,length:d(v.data)}]);break;case t.BYTE:E.push([{data:v.data,mode:t.BYTE,length:d(v.data)}])}}return E}function j(x,E){const y={},v={start:{}};let m=["start"];for(let k=0;k<x.length;k++){const w=x[k],S=[];for(let P=0;P<w.length;P++){const R=w[P],I=""+k+P;S.push(I),y[I]={node:R,lastCount:0},v[I]={};for(let D=0;D<m.length;D++){const F=m[D];y[F]&&y[F].node.mode===R.mode?(v[F][I]=g(y[F].lastCount+R.length,R.mode)-g(y[F].lastCount,R.mode),y[F].lastCount+=R.length):(y[F]&&(y[F].lastCount=R.length),v[F][I]=g(R.length,R.mode)+4+t.getCharCountIndicator(R.mode,E))}}m=S}for(let k=0;k<m.length;k++)v[m[k]].end=0;return{map:v,table:y}}function A(x,E){let y;const v=t.getBestModeForData(x);if(y=t.from(E,v),y!==t.BYTE&&y.bit<v.bit)throw new Error('"'+x+'" cannot be encoded with mode '+t.toString(y)+`.
 Suggested mode is: `+t.toString(v));switch(y===t.KANJI&&!c.isKanjiModeEnabled()&&(y=t.BYTE),y){case t.NUMERIC:return new n(x);case t.ALPHANUMERIC:return new o(x);case t.KANJI:return new i(x);case t.BYTE:return new r(x)}}e.fromArray=function(E){return E.reduce(function(y,v){return typeof v=="string"?y.push(A(v,null)):v.data&&y.push(A(v.data,v.mode)),y},[])},e.fromString=function(E,y){const v=C(E,c.isKanjiModeEnabled()),m=p(v),k=j(m,y),w=l.find_path(k.map,"start","end"),S=[];for(let P=1;P<w.length-1;P++)S.push(k.table[w[P]].node);return e.fromArray(u(S))},e.rawSplit=function(E){return e.fromArray(C(E,c.isKanjiModeEnabled()))}})(Gn);const Ct=G,Mt=mt,xs=Xi,ws=es,ys=Un,js=Hn,zt=Kn,Vt=pt,vs=ns,ct=Qn,ks=qn,Ts=pe,Rt=Gn;function Ss(e,t){const n=e.size,o=js.getPositions(t);for(let r=0;r<o.length;r++){const i=o[r][0],a=o[r][1];for(let c=-1;c<=7;c++)if(!(i+c<=-1||n<=i+c))for(let l=-1;l<=7;l++)a+l<=-1||n<=a+l||(c>=0&&c<=6&&(l===0||l===6)||l>=0&&l<=6&&(c===0||c===6)||c>=2&&c<=4&&l>=2&&l<=4?e.set(i+c,a+l,!0,!0):e.set(i+c,a+l,!1,!0))}}function Es(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function As(e,t){const n=ys.getPositions(t);for(let o=0;o<n.length;o++){const r=n[o][0],i=n[o][1];for(let a=-2;a<=2;a++)for(let c=-2;c<=2;c++)a===-2||a===2||c===-2||c===2||a===0&&c===0?e.set(r+a,i+c,!0,!0):e.set(r+a,i+c,!1,!0)}}function Ms(e,t){const n=e.size,o=ct.getEncodedBits(t);let r,i,a;for(let c=0;c<18;c++)r=Math.floor(c/3),i=c%3+n-8-3,a=(o>>c&1)===1,e.set(r,i,a,!0),e.set(i,r,a,!0)}function Pt(e,t,n){const o=e.size,r=ks.getEncodedBits(t,n);let i,a;for(i=0;i<15;i++)a=(r>>i&1)===1,i<6?e.set(i,8,a,!0):i<8?e.set(i+1,8,a,!0):e.set(o-15+i,8,a,!0),i<8?e.set(8,o-i-1,a,!0):i<9?e.set(8,15-i-1+1,a,!0):e.set(8,15-i-1,a,!0);e.set(o-8,8,1,!0)}function Rs(e,t){const n=e.size;let o=-1,r=n-1,i=7,a=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let l=0;l<2;l++)if(!e.isReserved(r,c-l)){let d=!1;a<t.length&&(d=(t[a]>>>i&1)===1),e.set(r,c-l,d),i--,i===-1&&(a++,i=7)}if(r+=o,r<0||n<=r){r-=o,o=-o;break}}}function Ps(e,t,n){const o=new xs;n.forEach(function(l){o.put(l.mode.bit,4),o.put(l.getLength(),Ts.getCharCountIndicator(l.mode,e)),l.write(o)});const r=Ct.getSymbolTotalCodewords(e),i=Vt.getTotalCodewordsCount(e,t),a=(r-i)*8;for(o.getLengthInBits()+4<=a&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const c=(a-o.getLengthInBits())/8;for(let l=0;l<c;l++)o.put(l%2?17:236,8);return Ns(o,e,t)}function Ns(e,t,n){const o=Ct.getSymbolTotalCodewords(t),r=Vt.getTotalCodewordsCount(t,n),i=o-r,a=Vt.getBlocksCount(t,n),c=o%a,l=a-c,d=Math.floor(o/a),h=Math.floor(i/a),C=h+1,g=d-h,u=new vs(g);let p=0;const j=new Array(a),A=new Array(a);let x=0;const E=new Uint8Array(e.buffer);for(let w=0;w<a;w++){const S=w<l?h:C;j[w]=E.slice(p,p+S),A[w]=u.encode(j[w]),p+=S,x=Math.max(x,S)}const y=new Uint8Array(o);let v=0,m,k;for(m=0;m<x;m++)for(k=0;k<a;k++)m<j[k].length&&(y[v++]=j[k][m]);for(m=0;m<g;m++)for(k=0;k<a;k++)y[v++]=A[k][m];return y}function Is(e,t,n,o){let r;if(Array.isArray(e))r=Rt.fromArray(e);else if(typeof e=="string"){let d=t;if(!d){const h=Rt.rawSplit(e);d=ct.getBestVersionForData(h,n)}r=Rt.fromString(e,d||40)}else throw new Error("Invalid data");const i=ct.getBestVersionForData(r,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const a=Ps(t,n,r),c=Ct.getSymbolSize(t),l=new ws(c);return Ss(l,t),Es(l),As(l,t),Pt(l,n,0),t>=7&&Ms(l,t),Rs(l,a),isNaN(o)&&(o=zt.getBestMask(l,Pt.bind(null,l,n))),zt.applyMask(o,l),Pt(l,n,o),{modules:l,version:t,errorCorrectionLevel:n,maskPattern:o,segments:r}}Vn.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let o=Mt.M,r,i;return typeof n<"u"&&(o=Mt.from(n.errorCorrectionLevel,Mt.M),r=ct.from(n.version),i=zt.from(n.maskPattern),n.toSJISFunc&&Ct.setToSJISFunction(n.toSJISFunc)),Is(t,r,o,i)};var Xn={},Zt={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(i){return[i,i]}))),o.length===6&&o.push("F","F");const r=parseInt(o.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const r=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,i=o.width&&o.width>=21?o.width:void 0,a=o.scale||4;return{width:i,scale:i?4:a,margin:r,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,r){return r.width&&r.width>=o+r.margin*2?r.width/(o+r.margin*2):r.scale},e.getImageWidth=function(o,r){const i=e.getScale(o,r);return Math.floor((o+r.margin*2)*i)},e.qrToImageData=function(o,r,i){const a=r.modules.size,c=r.modules.data,l=e.getScale(a,i),d=Math.floor((a+i.margin*2)*l),h=i.margin*l,C=[i.color.light,i.color.dark];for(let g=0;g<d;g++)for(let u=0;u<d;u++){let p=(g*d+u)*4,j=i.color.light;if(g>=h&&u>=h&&g<d-h&&u<d-h){const A=Math.floor((g-h)/l),x=Math.floor((u-h)/l);j=C[c[A*a+x]?1:0]}o[p++]=j.r,o[p++]=j.g,o[p++]=j.b,o[p]=j.a}}})(Zt);(function(e){const t=Zt;function n(r,i,a){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,a,c){let l=c,d=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(d=o()),l=t.getOptions(l);const h=t.getImageWidth(i.modules.size,l),C=d.getContext("2d"),g=C.createImageData(h,h);return t.qrToImageData(g.data,i,l),n(C,d,h),C.putImageData(g,0,0),d},e.renderToDataURL=function(i,a,c){let l=c;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const d=e.render(i,a,l),h=l.type||"image/png",C=l.rendererOpts||{};return d.toDataURL(h,C.quality)}})(Xn);var eo={};const Bs=Zt;function vn(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function Nt(e,t,n){let o=e+t;return typeof n<"u"&&(o+=" "+n),o}function _s(e,t,n){let o="",r=0,i=!1,a=0;for(let c=0;c<e.length;c++){const l=Math.floor(c%t),d=Math.floor(c/t);!l&&!i&&(i=!0),e[c]?(a++,c>0&&l>0&&e[c-1]||(o+=i?Nt("M",l+n,.5+d+n):Nt("m",r,0),r=0,i=!1),l+1<t&&e[c+1]||(o+=Nt("h",a),a=0)):r++}return o}eo.render=function(t,n,o){const r=Bs.getOptions(n),i=t.modules.size,a=t.modules.data,c=i+r.margin*2,l=r.color.light.a?"<path "+vn(r.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+vn(r.color.dark,"stroke")+' d="'+_s(a,i,r.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+h+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof o=="function"&&o(null,g),g};const Ls=Gi,Ot=Vn,to=Xn,Fs=eo;function Xt(e,t,n,o,r){const i=[].slice.call(arguments,1),a=i.length,c=typeof i[a-1]=="function";if(!c&&!Ls())throw new Error("Callback required as last argument");if(c){if(a<2)throw new Error("Too few arguments provided");a===2?(r=n,n=t,t=o=void 0):a===3&&(t.getContext&&typeof r>"u"?(r=o,o=void 0):(r=o,o=n,n=t,t=void 0))}else{if(a<1)throw new Error("Too few arguments provided");return a===1?(n=t,t=o=void 0):a===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(l,d){try{const h=Ot.create(n,o);l(e(h,t,o))}catch(h){d(h)}})}try{const l=Ot.create(n,o);r(null,e(l,t,o))}catch(l){r(l)}}Qe.create=Ot.create;Qe.toCanvas=Xt.bind(null,to.render);Qe.toDataURL=Xt.bind(null,to.renderToDataURL);Qe.toString=Xt.bind(null,function(e,t,n){return Fs.render(e,n)});const Ds=({data:e,ecl:t="Q",margin:n=1})=>{const[o,r]=f.useState();return f.useEffect(()=>{if(!e)return r(void 0);Qe.toString(e,{errorCorrectionLevel:t,type:"svg",margin:n}).then(i=>{r(`data:image/svg+xml;utf8,${encodeURIComponent(i)}`)})},[e,t]),s.jsx(ae,{children:o?s.jsx(Sr,{src:o,alt:"QR Code"}):s.jsx(Er,{height:500})})},zs=({mdl_prop:e,showEclSelector:t=!0,ecl:n="Q",...o})=>{const r=Yr(),[i,a]=f.useState(n);f.useEffect(()=>{n&&a(n)},[n]);const{data:c}=at({queryKey:["qr-code",e.model,e.pk],queryFn:async()=>{var h;return(h=(await je.post(Pe(Ne.generate_barcode),{model:e.model,pk:e.pk})).data)==null?void 0:h.barcode}}),l=f.useMemo(()=>[{value:"L",label:b._({id:"vAoQxm"})},{value:"M",label:b._({id:"xuqOBP"})},{value:"Q",label:b._({id:"cxfKe+"})},{value:"H",label:b._({id:"rgHRyZ"})}],[]);return s.jsxs(me,{children:[e.hash?s.jsx(An,{variant:"outline",color:"red",title:b._({id:"CkqdAb"}),children:s.jsx(Ke,{id:"AjTb8p"})}):null,s.jsx(Ds,{data:c,ecl:i,...o}),c&&r.getSetting("BARCODE_SHOW_TEXT","false")&&s.jsxs(re,{justify:t?"space-between":"center",align:"flex-start",px:16,children:[s.jsxs(me,{gap:4,pt:2,children:[s.jsx(ee,{size:"sm",fw:500,children:s.jsx(Ke,{id:"vDT9iq"})}),s.jsxs(re,{children:[s.jsx(Tr,{children:c}),s.jsx(ni,{value:c})]})]}),t&&s.jsx(_t,{allowDeselect:!1,label:b._({id:"md4cw+"}),value:i,onChange:d=>a(d),data:l})]})]})},Vs=({mdl_prop:e})=>{const[t,n]=f.useState("");function o(){je.post(Pe(Ne.barcode_link),{[e.model]:e.pk,barcode:t}).then(r=>{Kt.closeAll(),location.reload()})}return s.jsxs(ae,{children:[s.jsx(Mn,{label:b._({id:"ap+FLU"}),value:t,onChange:r=>n(r.currentTarget.value),placeholder:b._({id:"eelNjA"})}),s.jsx(Re,{color:"green",onClick:o,mt:"lg",fullWidth:!0,children:s.jsx(Ke,{id:"yzF66j"})})]})},Os=({mdl_prop:e})=>{function t(){je.post(Pe(Ne.barcode_unlink),{[e.model]:e.pk}).then(n=>{Kt.closeAll(),location.reload()})}return s.jsxs(ae,{children:[s.jsx(ee,{children:s.jsx(Ke,{id:"GZnnMw"})}),s.jsx(Re,{color:"red",onClick:t,children:s.jsx(Ke,{id:"ut1J8k"})})]})};function en({icon:e,tooltip:t,actions:n,disabled:o=!1,hidden:r=!1}){const i=f.useMemo(()=>n.some(l=>!l.hidden),[n]),a=f.useMemo(()=>n.find(l=>l.indicator),[n]),c=f.useMemo(()=>pn(`action-menu-${t}`),[t]);return!r&&i?s.jsxs(O,{position:"bottom-end",children:[s.jsx(Lt,{disabled:!a,...a==null?void 0:a.indicator,children:s.jsx(O.Target,{children:s.jsx(ce,{label:t,hidden:!t,children:s.jsx(le,{size:"lg",radius:"sm",variant:"transparent",disabled:o,"aria-label":c,children:e})})})}),s.jsx(O.Dropdown,{children:n.map(l=>{const d=pn(`${c}-${l.name}`);return l.hidden?null:f.createElement(Lt,{disabled:!l.indicator,...l.indicator,key:l.name},s.jsx(ce,{label:l.tooltip,hidden:!l.tooltip,position:"left",children:s.jsx(O.Item,{"aria-label":d,leftSection:l.icon,onClick:l.onClick,disabled:l.disabled,children:l.name})}))})})]},c):null}function da({model:e,pk:t,hash:n=null,actions:o=[],perm:r=!0}){const i=n===null,a={model:e,pk:t,hash:n};return s.jsx(en,{tooltip:b._({id:"heU0Hk"}),icon:s.jsx(fn,{}),actions:[It({mdl_prop:a,title:b._({id:"jpctdh"}),icon:s.jsx(fn,{}),tooltip:b._({id:"PuPuVa"}),ChildItem:zs}),It({hidden:i||n||!r,mdl_prop:a,title:b._({id:"3Bbgw2"}),icon:s.jsx(Ar,{}),tooltip:b._({id:"utafdp"}),ChildItem:Vs}),It({hidden:i||!n||!r,mdl_prop:a,title:b._({id:"ut1J8k"}),icon:s.jsx(Mr,{}),tooltip:b._({id:"AlfG1i"}),ChildItem:Os}),...o]})}function It({hidden:e=!1,mdl_prop:t,title:n,icon:o,tooltip:r,ChildItem:i}){return{icon:o,name:n,tooltip:r,onClick:()=>{Kt.open({title:n,children:s.jsx(i,{mdl_prop:t})})},hidden:e}}function ua(e){return{...e,icon:s.jsx(Rn,{color:"blue"}),name:b._({id:"ePK91l"}),tooltip:e.tooltip??b._({id:"Qpg4KV"})}}function ha(e){return{...e,icon:s.jsx(Ht,{color:"red"}),name:b._({id:"cnGeoo"}),tooltip:e.tooltip??b._({id:"ZatbPe"})}}function ga(e){return{...e,icon:s.jsx(Ln,{icon:"hold",iconProps:{color:"orange"}}),name:b._({id:"YJMNeo"}),tooltip:e.tooltip??b._({id:"YJMNeo"})}}function fa(e){return{...e,icon:s.jsx(Ln,{icon:"cancel",iconProps:{color:"red"}}),name:b._({id:"dEgA5A"}),tooltip:e.tooltip??b._({id:"dEgA5A"})}}function ma(e){return{...e,icon:s.jsx(Pn,{color:"green"}),name:b._({id:"euc6Ns"}),tooltip:e.tooltip??b._({id:"QXHPgY"})}}function pa(e){function t(){return`${e}-${Rr()}`}const[n,o]=f.useState(t()),r=f.useCallback(()=>{o(t())},[t]),[i,a]=Ue({key:`inventree-table-filters-${e}`,defaultValue:[],getInitialValueInEffect:!1}),c=f.useCallback(()=>{a([])},[]),[l,d]=f.useState([]),[h,C]=f.useState([]),g=f.useMemo(()=>h.map(U=>U.pk??U.id),[h]),u=f.useCallback(()=>{C([])},[]),p=f.useMemo(()=>h.length>0,[h]),[j,A]=f.useState(0),[x,E]=f.useState(1),[y,v]=f.useState(25),[m,k]=Ue({key:`inventree-hidden-table-columns-${e}`,defaultValue:[]}),[w,S]=f.useState(""),[P,R]=f.useState([]),I=f.useCallback(U=>{let L=[...P];const Y=L.findIndex(W=>W.pk===U.pk);Y>=0?L[Y]=U:L.push(U),R(L)},[P]),[D,F]=f.useState(!1),[K,q]=f.useState(!1);return{tableKey:n,refreshTable:r,isLoading:D,setIsLoading:F,activeFilters:i,setActiveFilters:a,clearActiveFilters:c,expandedRecords:l,setExpandedRecords:d,selectedRecords:h,selectedIds:g,setSelectedRecords:C,clearSelectedRecords:u,hasSelectedRecords:p,hiddenColumns:m,setHiddenColumns:k,searchTerm:w,setSearchTerm:S,recordCount:j,setRecordCount:A,page:x,setPage:E,pageSize:y,setPageSize:v,records:P,setRecords:R,updateRecord:I,editable:K,setEditable:q}}function Us({icon:e,actions:t,tooltip:n="",label:o=""}){return s.jsxs(O,{shadow:"xs",children:[s.jsx(O.Target,{children:s.jsx(le,{variant:"default",children:s.jsx(ce,{label:n,children:e})})}),s.jsxs(O.Dropdown,{children:[o&&s.jsx(O.Label,{children:o}),t.map((r,i)=>s.jsx(O.Item,{children:r},i))]})]})}function Hs({items:e,hidden:t,enableLabels:n,enableReports:o,modelType:r}){const{host:i}=Bn.getState(),a=f.useMemo(()=>e.length>0,[e]),[c,l]=f.useState(""),d=at({enabled:n,queryKey:["printingFields",r,c],gcTime:500,queryFn:()=>je.options(Pe(Ne.label_print),{params:{plugin:c||void 0}}).then(u=>_n(u,"POST")||{}).catch(()=>({}))}),h=f.useMemo(()=>{let u=d.data||{};return u.template={...u.template,filters:{enabled:!0,model_type:r,items:e.join(",")}},u.items={...u.items,value:e,hidden:!0},u.plugin={...u.plugin,filters:{active:!0,mixin:"labels"},onValueChange:(p,j)=>{j!=null&&j.key&&(j==null?void 0:j.key)!=c&&l(j.key)}},u},[d.data,e]),C=Cn({url:Pe(Ne.label_print),title:b._({id:"kjqRDg"}),fields:h,timeout:(e.length+1)*5e3,onClose:()=>{l("")},submitText:b._({id:"BZz12Q"}),successMessage:b._({id:"pT7uop"}),onFormSuccess:u=>{if(l(""),!u.complete){mn.show({title:b._({id:"SlfejT"}),message:b._({id:"3Dx00w"}),color:"red"});return}if(u.output){const p=`${i}${u.output}`;window.open(p,"_blank")}}}),g=Cn({title:b._({id:"qsurSb"}),url:Pe(Ne.report_print),timeout:(e.length+1)*5e3,fields:{template:{filters:{enabled:!0,model_type:r,items:e.join(",")}},items:{hidden:!0,value:e}},submitText:b._({id:"ziAjHi"}),successMessage:b._({id:"nu+rR/"}),onFormSuccess:u=>{if(!u.complete){mn.show({title:b._({id:"SlfejT"}),message:b._({id:"cvLQZH"}),color:"red"});return}if(u.output){const p=`${i}${u.output}`;window.open(p,"_blank")}}});return!r||!n&&!o?null:!t&&s.jsxs(s.Fragment,{children:[g.modal,C.modal,s.jsx(en,{tooltip:b._({id:"/oz6DG"}),icon:s.jsx(Pr,{}),disabled:!a,actions:[{name:b._({id:"Y93N6T"}),icon:s.jsx(Nr,{}),onClick:()=>C.open(),hidden:!n},{name:b._({id:"ClULGR"}),icon:s.jsx(Ir,{}),onClick:()=>g.open(),hidden:!o}]})]})}function Ks({columns:e,onToggleColumn:t}){return s.jsxs(O,{shadow:"xs",closeOnItemClick:!1,children:[s.jsx(O.Target,{children:s.jsx(le,{variant:"transparent","aria-label":"table-select-columns",children:s.jsx(ce,{label:b._({id:"kCTFU8"}),children:s.jsx(Br,{})})})}),s.jsxs(O.Dropdown,{children:[s.jsx(O.Label,{children:b._({id:"kCTFU8"})}),e.filter(n=>n.switchable??!0).map(n=>s.jsx(O.Item,{children:s.jsx(dt,{checked:!n.hidden,label:n.title||n.accessor,onChange:()=>t(n.accessor),radius:"sm"})},n.accessor))]})]})}function Ws({downloadCallback:e}){const t=[{value:"csv",label:b._({id:"6N5Lt+"}),icon:s.jsx(_r,{})},{value:"tsv",label:b._({id:"Keu6yk"}),icon:s.jsx(Lr,{})},{value:"xlsx",label:b._({id:"Ii6Hnh"}),icon:s.jsx(Fr,{})}],n=f.useMemo(()=>t.map(o=>({name:o.label,icon:o.icon,onClick:()=>e(o.value)})),[t,e]);return s.jsx(en,{tooltip:b._({id:"p63Z1c"}),icon:s.jsx(Dr,{}),actions:n})}function $s(e){return e.choices?e.choices:e.choiceFunction?e.choiceFunction():[{value:"true",label:b._({id:"l75CjT"})},{value:"false",label:b._({id:"1UzENP"})}]}function ba(e){return()=>{const t=Gr.getState().status;if(!t)return[];const n=t[e];return n?Object.keys(n).map(o=>{var i;const r=n[o];return{value:r.key.toString(),label:((i=r.label)==null?void 0:i.toString())??r.key.toString()}}):[]}}function Ca(){return{name:"assigned_to_me",label:b._({id:"iU3XRS"}),description:b._({id:"BnF3ID"})}}function xa(){return{name:"outstanding",label:b._({id:"aimnwe"}),description:b._({id:"hUps7c"})}}function wa(){return{name:"overdue",label:b._({id:"ddrz1m"}),description:b._({id:"j81Gfd"})}}function Qs({flt:e,tableState:t}){const n=f.useCallback(()=>{let o=t.activeFilters.filter(r=>r.name!==e.name);t.setActiveFilters(o)},[e]);return s.jsx(Vr,{p:"sm",shadow:"sm",radius:"xs",children:s.jsxs(re,{justify:"space-between",wrap:"nowrap",children:[s.jsxs(me,{gap:"xs",children:[s.jsx(ee,{size:"sm",children:e.label}),s.jsx(ee,{size:"xs",children:e.description})]}),s.jsxs(re,{justify:"right",children:[s.jsx(Or,{children:e.displayValue??e.value}),s.jsx(ce,{label:b._({id:"rn2/2V"}),withinPortal:!0,children:s.jsx(In,{size:"md",color:"red",onClick:n})})]})]},e.name)})}function Js({tableState:e,availableFilters:t}){const n=f.useMemo(()=>{var l,d;let c=((l=e.activeFilters)==null?void 0:l.map(h=>h.name))??[];return((d=t==null?void 0:t.filter(h=>!c.includes(h.name)))==null?void 0:d.map(h=>({value:h.name,label:h.label,description:h.description})))??[]},[e.activeFilters,t]),[o,r]=f.useState(null),i=f.useMemo(()=>{let c=t.find(l=>l.name===o);return c?$s(c):[]},[o]),a=f.useCallback(c=>{var C,g;let l=t.find(u=>u.name===o);if(!l)return;let d=((C=e.activeFilters)==null?void 0:C.filter(u=>u.name!==o))??[],h={...l,value:c,displayValue:(g=i.find(u=>u.value===c))==null?void 0:g.label};e.setActiveFilters([...d,h])},[o]);return s.jsxs(me,{gap:"xs",children:[s.jsx(Nn,{}),s.jsx(_t,{data:n,searchable:!0,placeholder:b._({id:"hpMOSe"}),label:b._({id:"o7J4JM"}),onChange:c=>r(c),maxDropdownHeight:800}),o&&s.jsx(_t,{data:i,label:b._({id:"wMHvYH"}),searchable:!0,placeholder:b._({id:"Fo55lj"}),onChange:c=>a(c),maxDropdownHeight:800})]})}function qs({availableFilters:e,tableState:t,opened:n,onClose:o}){var c;const[r,i]=f.useState(!1);f.useEffect(()=>{i(!1)},[t.activeFilters]);const a=f.useMemo(()=>((t==null?void 0:t.activeFilters)??[]).length>0,[t.activeFilters]);return s.jsx(zr,{size:"sm",position:"right",withCloseButton:!0,opened:n,onClose:o,closeButtonProps:{"aria-label":"filter-drawer-close"},title:s.jsx(ii,{size:"lg",children:b._({id:"l34cnu"})}),children:s.jsxs(me,{gap:"xs",children:[a&&((c=t.activeFilters)==null?void 0:c.map(l=>s.jsx(Qs,{flt:l,tableState:t},l.name))),a&&s.jsx(Nn,{}),r&&s.jsx(me,{gap:"xs",children:s.jsx(Js,{tableState:t,availableFilters:e})}),r&&s.jsx(Re,{onClick:()=>i(!1),color:"orange",variant:"subtle",children:s.jsx(ee,{children:b._({id:"dEgA5A"})})}),!r&&t.activeFilters.length<e.length&&s.jsx(Re,{onClick:()=>i(!0),color:"green",variant:"subtle",children:s.jsx(ee,{children:b._({id:"PzFzS+"})})}),!r&&t.activeFilters.length>0&&s.jsx(Re,{onClick:t.clearActiveFilters,color:"red",variant:"subtle",children:s.jsx(ee,{children:b._({id:"J8ECgX"})})})]})})}function ya(e){return{...e,title:b._({id:"euc6Ns"}),color:"green",icon:s.jsx(Pn,{})}}function ja(e){return{...e,title:b._({id:"ePK91l"}),color:"blue",icon:s.jsx(Rn,{})}}function va(e){return{...e,title:b._({id:"cnGeoo"}),color:"red",icon:s.jsx(Ht,{})}}function Ys({title:e,actions:t,disabled:n=!1,index:o}){function r(d){Ft(d),a(!i)}const[i,a]=f.useState(!1),c=f.useMemo(()=>t.filter(d=>!d.hidden),[t]);function l(d){return s.jsx(ce,{withinPortal:!0,label:d.tooltip??d.title,position:"left",children:s.jsx(O.Item,{color:d.color,leftSection:d.icon,onClick:h=>{Ft(h),d.onClick(),a(!1)},disabled:d.disabled||!1,children:d.title})},d.title)}return c.length>0&&s.jsxs(O,{withinPortal:!0,disabled:n,position:"bottom-end",opened:i,onChange:a,children:[s.jsx(O.Target,{children:s.jsx(ce,{withinPortal:!0,label:e||b._({id:"7L01XJ"}),children:s.jsx(le,{"aria-label":`row-action-menu-${o??""}`,onClick:r,disabled:n,variant:"subtle",color:"gray",children:s.jsx(Ur,{})},`row-action-menu-${o??""}`)})}),s.jsx(O.Dropdown,{children:c.map(d=>s.jsx(l,{...d},d.title))})]})}function Gs({searchCallback:e}){const[t,n]=f.useState(""),[o]=Hr(t,500);return f.useEffect(()=>{e(o)},[o]),s.jsx(Mn,{value:t,leftSection:s.jsx(Kr,{}),placeholder:b._({id:"A1taO8"}),onChange:r=>n(r.target.value),rightSection:t.length>0?s.jsx(In,{size:"xs",onClick:()=>n("")}):null})}const Zs=25,Xs=[10,15,20,25,50,100,500],ea={params:{},noRecordsText:b._({id:"EqGTpW"}),enableDownload:!1,enableLabels:!1,enableReports:!1,enableFilters:!0,enablePagination:!0,enableRefresh:!0,enableSearch:!0,enableSelection:!1,defaultSortColumn:"",barcodeActions:[],tableFilters:[],tableActions:[],idAccessor:"pk"};function ka({url:e,tableState:t,columns:n,props:o}){var W,de,ue,he;const{getTableColumnNames:r,setTableColumnNames:i,getTableSorting:a,setTableSorting:c}=Bn(),[l,d]=f.useState({}),h=si(),C=f.useMemo(()=>{var M,T;return((T=(M=o.tableFilters)==null?void 0:M.filter(N=>N.active!=!1))==null?void 0:T.map(N=>({...N,label:N.label??l[N.name]??`${N.name}`})))??[]},[o.tableFilters,l]),g=at({enabled:!0,queryKey:["options",e,t.tableKey,o.enableColumnCaching],retry:3,refetchOnMount:!0,queryFn:async()=>o.enableColumnCaching==!1?null:je.options(e,{params:u.params}).then(M=>{if(M.status==200){let T={},N=_n(M,"POST",!0)||{};ei(N,(H,ge)=>{ge.label&&(T[H]=ge.label)});const _=t.tableKey.split("-")[0];d(T),i(_)(T)}return null})});f.useEffect(()=>{if(o.enableColumnCaching==!1)return;const M=t.tableKey.split("-")[0],T=r(M);if(Object.keys(T).length>0){d(T);return}g.refetch()},[e,t.tableKey,o.params,o.enableColumnCaching]);const u=f.useMemo(()=>({...ea,...o}),[o]),p=f.useMemo(()=>o.enableColumnSwitching==!1?!1:n.some(M=>M.hidden==!0?!1:M.switchable!=!1),[n,o.enableColumnSwitching]),j=f.useCallback(M=>{t.setSelectedRecords(M)},[t.setSelectedRecords]),A=f.useMemo(()=>{let M=n.filter(T=>(T==null?void 0:T.hidden)!=!0).map(T=>{let N=T.hidden??!1;return(T.switchable??!0)&&(N=t.hiddenColumns.includes(T.accessor)),{...T,hidden:N,title:T.title??l[T.accessor]??`${T.accessor}`}});return u.rowActions&&M.push({accessor:"--actions--",title:"   ",hidden:!1,switchable:!1,width:50,render:(T,N)=>{var _;return s.jsx(Ys,{actions:((_=u.rowActions)==null?void 0:_.call(u,T))??[],disabled:t.selectedRecords.length>0,index:N})}}),M},[n,l,u.rowActions,u.enableSelection,t.hiddenColumns,t.selectedRecords]);function x(M){let T=[...A],N=T.findIndex(_=>_.accessor==M);N>=0&&N<T.length&&(T[N].hidden=!T[N].hidden),t.setHiddenColumns(T.filter(_=>_.hidden).map(_=>_.accessor))}const[E,y]=f.useState(!1);f.useEffect(()=>{t.setPage(1)},[t.searchTerm]);function v(M=!1){let T={...u.params};if(t.activeFilters&&t.activeFilters.forEach(_=>T[_.name]=_.value),t.searchTerm&&(T.search=t.searchTerm),u.enablePagination&&M){let _=t.pageSize??Zs;_!=t.pageSize&&t.setPageSize(_),T.limit=_,T.offset=(t.page-1)*_}let N=S();return N&&(k.direction=="asc"?T.ordering=N:T.ordering=`-${N}`),T}function m(M){let T=v(!1);T.export=M;let N=je.getUri({url:e,params:T});window.open(N,"_blank")}const[k,w]=f.useState({columnAccessor:u.defaultSortColumn??"",direction:"asc"});f.useEffect(()=>{const M=t.tableKey.split("-")[0],T=a(M);T&&w(T)},[]);function S(){let M=k.columnAccessor;if(M=="")return"";let T=A.find(N=>N.accessor==M);return(T==null?void 0:T.ordering)||M}const[P,R]=f.useState(u.noRecordsText??b._({id:"EqGTpW"})),I=M=>{t.setPage(1),w(M);const T=t.tableKey.split("-")[0];c(T)(M)},D=async()=>{let M=v(!0);return je.get(e,{params:M,timeout:5*1e3}).then(function(T){var N,_;switch(T.status){case 200:R(u.noRecordsText??b._({id:"EqGTpW"}));let H=((N=T.data)==null?void 0:N.results)??T.data??[];return o.dataFormatter&&(H=o.dataFormatter(H)),Array.isArray(H)||(R(b._({id:"3o3AAs"})),H=[]),t.setRecordCount(((_=T.data)==null?void 0:_.count)??H.length),H;case 400:R(b._({id:"UFBeQV"}));break;case 401:R(b._({id:"dA/8If"}));break;case 403:R(b._({id:"7JBW66"}));break;case 404:R(b._({id:"KPx1UV"}));break;default:R(b._({id:"29VNqC"})+": "+T.statusText);break}return[]}).catch(function(T){return R(b._({id:"SlfejT"})+": "+T.message),[]})},{data:F,isFetching:K,refetch:q}=at({queryKey:[t.page,o.params,k.columnAccessor,k.direction,t.tableKey,t.activeFilters,t.searchTerm],queryFn:D,refetchOnMount:!0});f.useEffect(()=>{t.setIsLoading(K)},[K]),f.useEffect(()=>{t.setRecords(F??[])},[F]);const U=ti({url:e,title:b._({id:"NEGzXb"}),preFormContent:s.jsx(An,{color:"red",title:b._({id:"3kYcuM"}),children:b._({id:"LYnzbA"})}),initialData:{items:t.selectedIds},fields:{items:{hidden:!0}},onFormSuccess:()=>{t.clearSelectedRecords(),t.refreshTable(),o.afterBulkDelete&&o.afterBulkDelete()}}),L=f.useCallback(({event:M,record:T,index:N,column:_,columnIndex:H})=>{if(_.accessor!="--actions--"){if(o.onCellClick)o.onCellClick({event:M,record:T,index:N,column:_,columnIndex:H});else if(o.onRowClick)o.onRowClick(T,N,M);else if(u.modelType){const ge=u.modelField??"pk",te=Zr(T,ge);if(te){Ft(M);let xt=oi(u.modelType,te);ri(xt,h,M)}}}},[o.onRowClick,o.onCellClick]);function Y(M){t.setPageSize(M),t.refreshTable()}return s.jsxs(s.Fragment,{children:[U.modal,u.enableFilters&&(C.length??0)>0&&s.jsx(bn,{label:"table-filter-drawer",children:s.jsx(qs,{availableFilters:C,tableState:t,opened:E,onClose:()=>y(!1)})}),s.jsx(bn,{label:`InvenTreeTable-${t.tableKey}`,children:s.jsxs(me,{gap:"sm",children:[s.jsxs(re,{justify:"apart",grow:!0,wrap:"nowrap",children:[s.jsxs(re,{justify:"left",gap:5,wrap:"nowrap",children:[s.jsx(Hs,{items:t.selectedIds,modelType:u.modelType,enableLabels:u.enableLabels,enableReports:u.enableReports}),(((W=u.barcodeActions)==null?void 0:W.length)??0)>0&&s.jsx(Us,{icon:s.jsx(Wr,{}),label:b._({id:"v1qpjB"}),tooltip:b._({id:"v1qpjB"}),actions:u.barcodeActions??[]},"barcode-actions"),(u.enableBulkDelete??!1)&&s.jsx(Xr,{disabled:!t.hasSelectedRecords,icon:s.jsx(Ht,{}),color:"red",tooltip:b._({id:"QZQ+5V"}),onClick:()=>{U.open()}}),(de=u.tableActions)==null?void 0:de.map((M,T)=>s.jsx(f.Fragment,{children:M},T))]},"custom-actions"),s.jsx($r,{}),s.jsxs(re,{justify:"right",gap:5,wrap:"nowrap",children:[u.enableSearch&&s.jsx(Gs,{searchCallback:M=>t.setSearchTerm(M)}),u.enableRefresh&&s.jsx(le,{variant:"transparent","aria-label":"table-refresh",children:s.jsx(ce,{label:b._({id:"8RYNR1"}),children:s.jsx(Qr,{onClick:()=>{q(),t.clearSelectedRecords()}})})}),p&&s.jsx(Ks,{columns:A,onToggleColumn:x}),u.enableFilters&&C.length>0&&s.jsx(Lt,{size:"xs",label:((ue=t.activeFilters)==null?void 0:ue.length)??0,disabled:((he=t.activeFilters)==null?void 0:he.length)==0,children:s.jsx(le,{variant:"transparent","aria-label":"table-select-filters",children:s.jsx(ce,{label:b._({id:"j2wMlR"}),children:s.jsx(Jr,{onClick:()=>y(!E)})})})}),u.enableDownload&&s.jsx(Ws,{downloadCallback:m},"download-action")]})]}),s.jsxs(ae,{pos:"relative",children:[s.jsx(qr,{visible:g.isLoading||g.isFetching}),s.jsx(qi,{withTableBorder:!0,withColumnBorders:!0,striped:!0,highlightOnHover:!0,loaderType:"dots",pinLastColumn:u.rowActions!=null,idAccessor:u.idAccessor,minHeight:300,totalRecords:t.recordCount,recordsPerPage:t.pageSize,page:t.page,onPageChange:t.setPage,sortStatus:k,onSortStatusChange:I,selectedRecords:u.enableSelection?t.selectedRecords:void 0,onSelectedRecordsChange:u.enableSelection?j:void 0,rowExpansion:u.rowExpansion,rowStyle:u.rowStyle,fetching:K,noRecordsText:P,records:t.records,columns:A,onCellClick:L,defaultColumnProps:{noWrap:!0,textAlign:"left",cellsStyle:()=>M=>({overflow:"hidden"})},recordsPerPageOptions:Xs,onRecordsPerPageChange:Y})]})]})})]})}export{en as A,da as B,fa as C,ha as D,ua as E,ga as H,ka as I,xa as O,Hs as P,ja as R,ba as S,qi as Y,va as a,wa as b,Ca as c,ma as d,Ys as e,ya as f,Fn as r,pa as u};
