import{r as c,i as t,j as e,eN as h,I as j,eO as k,bX as C,am as T,ai as d,S as A}from"./vendor-B0vSnHFf.js";import{e as s,A as r,d as n}from"./index-CDdQlqFV.js";import{A as u}from"./ActionButton-Br0cBRLA.js";import{P as I}from"./PageDetail-B4PsctWo.js";import{P}from"./PanelGroup-DRVQKYn0.js";import{I as g,u as b}from"./InvenTreeTable-D26a1r6-.js";import{m as M}from"./BaseContext-DSwOqL9e.js";import"./Instance-Co8OMzcE.js";import"./StylishText-CrpvZzAV.js";import"./DesktopAppView-CofLSp00.js";import"./Boundary-CysPC9mI.js";import"./UseForm-BimrM1zK.js";function x({params:i,tableState:a,tableActions:p,actions:f}){const m=c.useMemo(()=>[{accessor:"age_human",title:t._({id:"RCU5PY"}),sortable:!0},{accessor:"category",title:t._({id:"K7tIrx"}),sortable:!0},{accessor:"name",title:t._({id:"5+87Pq"})},{accessor:"message",title:t._({id:"xDAtGP"})}],[]);return e.jsx(g,{url:s(r.notifications_list),tableState:a,columns:m,props:{rowActions:f,tableActions:p,enableSelection:!0,params:i}})}function U(){const i=b("unreadnotifications"),a=b("readnotifications"),p=c.useCallback(()=>{n.get(s(r.notifications_readall),{params:{read:!1}}).then(o=>{i.refreshTable(),a.refreshTable()}).catch(o=>{})},[]),f=c.useCallback(()=>{M.openConfirmModal({title:t._({id:"Zez9Ff"}),onConfirm:()=>{n.delete(s(r.notifications_list),{data:{filters:{read:!0}}}).then(o=>{a.refreshTable()}).catch(o=>{})}})},[]),m=c.useMemo(()=>[{name:"unread",label:t._({id:"iDNBZe"}),icon:e.jsx(h,{size:"18"}),content:e.jsx(x,{params:{read:!1},tableState:i,actions:o=>[{title:t._({id:"+s1J8k"}),color:"green",icon:e.jsx(j,{}),onClick:()=>{let l=s(r.notifications_list,o.pk);n.patch(l,{read:!0}).then(_=>{i.refreshTable()})}}],tableActions:[e.jsx(u,{icon:e.jsx(k,{}),tooltip:"Mark all as read",onClick:p})]})},{name:"history",label:t._({id:"0caMy7"}),icon:e.jsx(C,{size:"18"}),content:e.jsx(x,{params:{read:!0},tableState:a,actions:o=>[{title:t._({id:"5GPcf9"}),icon:e.jsx(T,{}),onClick:()=>{let l=s(r.notifications_list,o.pk);n.patch(l,{read:!1}).then(_=>{a.refreshTable()})}},{title:t._({id:"cnGeoo"}),color:"red",icon:e.jsx(d,{}),onClick:()=>{n.delete(s(r.notifications_list,o.pk)).then(l=>{a.refreshTable()})}}],tableActions:[e.jsx(u,{color:"red",icon:e.jsx(d,{}),tooltip:"Delete notifications",onClick:f})]})}],[i,a]);return e.jsxs(A,{children:[e.jsx(I,{title:t._({id:"iDNBZe"})}),e.jsx(P,{pageKey:"notifications",panels:m})]})}export{U as default};
