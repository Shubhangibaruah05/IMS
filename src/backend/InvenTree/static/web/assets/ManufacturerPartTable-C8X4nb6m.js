import{r as n,j as s,i as u}from"./vendor-B0vSnHFf.js";import{A}from"./AddItemButton-CD0U_4gd.js";import{T as C}from"./Instance-Co8OMzcE.js";import{a as x,A as l,U as i,e as P,M as R}from"./index-CDdQlqFV.js";import{u as k}from"./CompanyForms-Dy3Tzhcs.js";import{a as T,u as D,b as j}from"./UseForm-BimrM1zK.js";import{u as F,R as w,a as E,I as S}from"./InvenTreeTable-D26a1r6-.js";import{a as U,D as g,L as y}from"./ColumnRenderers-CwItNORh.js";function q({params:e}){const o=F("manufacturerparts"),a=x(),b=n.useMemo(()=>[{accessor:"part",switchable:"part"in e,sortable:!0,render:t=>U(t==null?void 0:t.part_detail)},{accessor:"manufacturer",sortable:!0,render:t=>{let r=(t==null?void 0:t.manufacturer_detail)??{};return s.jsx(C,{src:(r==null?void 0:r.thumbnail)??r.image,text:r.name})}},{accessor:"MPN",title:u._({id:"ZCCuT2"}),sortable:!0},g({}),y({})],[e]),c=k(),[d,m]=n.useState(void 0),p=T({url:l.manufacturer_part_list,title:u._({id:"uOeMYf"}),fields:c,table:o,initialData:{manufacturer:e==null?void 0:e.manufacturer,part:e==null?void 0:e.part}}),f=D({url:l.manufacturer_part_list,pk:d,title:u._({id:"b30yxS"}),fields:c,table:o}),_=j({url:l.manufacturer_part_list,pk:d,title:u._({id:"fMDrRl"}),table:o}),M=n.useMemo(()=>{let t=a.hasAddRole(i.purchase_order)&&a.hasAddRole(i.part);return[s.jsx(A,{tooltip:u._({id:"uOeMYf"}),onClick:()=>p.open(),hidden:!t})]},[a]),h=n.useCallback(t=>[w({hidden:!a.hasChangeRole(i.purchase_order),onClick:()=>{m(t.pk),f.open()}}),E({hidden:!a.hasDeleteRole(i.purchase_order),onClick:()=>{m(t.pk),_.open()}})],[a]);return s.jsxs(s.Fragment,{children:[p.modal,f.modal,_.modal,s.jsx(S,{url:P(l.manufacturer_part_list),tableState:o,columns:b,props:{params:{...e,part_detail:!0,manufacturer_detail:!0},enableDownload:!0,rowActions:h,tableActions:M,modelType:R.manufacturerpart}})]})}export{q as M};
