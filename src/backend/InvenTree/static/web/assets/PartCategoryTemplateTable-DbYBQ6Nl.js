import{r as t,i as s,j as a,G as w,m as f}from"./vendor-B0vSnHFf.js";import{A as T}from"./AddItemButton-CD0U_4gd.js";import{a as k,A as i,U as m,e as y}from"./index-CDdQlqFV.js";import{a as j,u as M,b as C}from"./UseForm-BimrM1zK.js";import{u as R,R as F,a as S,I as v}from"./InvenTreeTable-D26a1r6-.js";import"./ActionButton-Br0cBRLA.js";import"./Instance-Co8OMzcE.js";import"./Boundary-CysPC9mI.js";import"./BaseContext-DSwOqL9e.js";import"./DesktopAppView-CofLSp00.js";import"./StylishText-CrpvZzAV.js";function $(){const r=R("part-category-parameter-templates"),l=k(),o=t.useMemo(()=>({category:{},parameter_template:{},default_value:{}}),[]),[p,u]=t.useState(0),d=j({url:i.category_parameter_list,title:s._({id:"+BLSbg"}),fields:t.useMemo(()=>({...o}),[o]),table:r}),c=M({url:i.category_parameter_list,pk:p,title:s._({id:"kF/O0U"}),fields:t.useMemo(()=>({...o}),[o]),table:r}),_=C({url:i.category_parameter_list,pk:p,title:s._({id:"O5duuA"}),table:r}),g=t.useMemo(()=>[],[]),h=t.useMemo(()=>[{accessor:"category_detail.name",title:s._({id:"K7tIrx"}),sortable:!0,switchable:!1},{accessor:"category_detail.pathstring"},{accessor:"parameter_template_detail.name",title:s._({id:"+nwoLk"}),sortable:!0,switchable:!1},{accessor:"default_value",sortable:!0,switchable:!1,render:e=>{var b;if(!(e!=null&&e.default_value))return"-";let n="";return(b=e==null?void 0:e.parameter_template_detail)!=null&&b.units&&(n=`[${e.parameter_template_detail.units}]`),a.jsxs(w,{justify:"space-between",grow:!0,children:[a.jsx(f,{children:e.default_value}),n&&a.jsx(f,{size:"xs",children:n})]})}}],[]),x=t.useCallback(e=>[F({hidden:!l.hasChangeRole(m.part),onClick:()=>{u(e.pk),c.open()}}),S({hidden:!l.hasDeleteRole(m.part),onClick:()=>{u(e.pk),_.open()}})],[l]),A=t.useMemo(()=>[a.jsx(T,{tooltip:s._({id:"+BLSbg"}),onClick:()=>d.open(),hidden:!l.hasAddRole(m.part)})],[l]);return a.jsxs(a.Fragment,{children:[d.modal,c.modal,_.modal,a.jsx(v,{url:y(i.category_parameter_list),tableState:r,columns:h,props:{rowActions:x,tableFilters:g,tableActions:A,enableDownload:!0}})]})}export{$ as default};
