import{r as a,i as e,j as t}from"./vendor-B0vSnHFf.js";import{A as f}from"./AddItemButton-CD0U_4gd.js";import{T as F}from"./Instance-Co8OMzcE.js";import{R as T,D as j,b as O,S as R,c as A,C as x,T as P,d as S,e as g}from"./ColumnRenderers-CwItNORh.js";import{a as y,M as o,A as d,U as D,e as M}from"./index-CDdQlqFV.js";import{u as U}from"./PurchaseOrderForms-VnPQAsDv.js";import{u as I,a as w}from"./UseFilter-Blar5lCV.js";import{a as E}from"./UseForm-BimrM1zK.js";import{u as K,S as Q,O as V,b as X,c as q,I as v}from"./InvenTreeTable-D26a1r6-.js";function J({supplierId:i,supplierPartId:p}){const m=K("purchase-order"),l=y(),n=I(),c=w(),_=a.useMemo(()=>[{name:"status",label:e._({id:"uAQUqI"}),description:e._({id:"OIH7WF"}),choiceFunction:Q(o.purchaseorder)},V(),X(),q(),{name:"project_code",label:e._({id:"Sdfr6G"}),description:e._({id:"8sHFLc"}),choices:n.choices},{name:"has_project_code",label:e._({id:"e7gdBS"}),description:e._({id:"IuQlCq"})},{name:"assigned_to",label:e._({id:"XQACoK"}),description:e._({id:"OVVPn5"}),choices:c.choices}],[n.choices,c.choices]),h=a.useMemo(()=>[T({}),j({}),{accessor:"supplier__name",title:e._({id:"PYTEl0"}),sortable:!0,render:function(s){let r=s.supplier_detail??{};return t.jsx(F,{src:r==null?void 0:r.image,alt:r.name,text:r.name})}},{accessor:"supplier_reference"},O(),R({model:o.purchaseorder}),A({}),x({}),P({}),{accessor:"total_price",title:e._({id:"KyZVKD"}),sortable:!0,render:s=>{var r;return S(s.total_price,{currency:s.order_currency??((r=s.supplier_detail)==null?void 0:r.currency)})}},g({})],[]),b=U(),u=E({url:d.purchase_order_list,title:e._({id:"XRoR1U"}),fields:b,initialData:{supplier:i},follow:!0,modelType:o.purchaseorder}),C=a.useMemo(()=>[t.jsx(f,{tooltip:e._({id:"XRoR1U"}),onClick:()=>u.open(),hidden:!l.hasAddRole(D.purchase_order)})],[l]);return t.jsxs(t.Fragment,{children:[u.modal,t.jsx(v,{url:M(d.purchase_order_list),tableState:m,columns:h,props:{params:{supplier_detail:!0,supplier:i,supplier_part:p},tableFilters:_,tableActions:C,modelType:o.purchaseorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{J as P};
