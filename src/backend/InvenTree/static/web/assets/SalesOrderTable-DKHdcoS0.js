import{r as a,i as e,j as t}from"./vendor-B0vSnHFf.js";import{A as F}from"./AddItemButton-CD0U_4gd.js";import{T as h}from"./Instance-Co8OMzcE.js";import{R as S,D as T,b as j,S as A,c as O,C as x,T as M,h as g,e as y,d as D}from"./ColumnRenderers-CwItNORh.js";import{a as R,M as o,A as u,U as I,e as U}from"./index-CDdQlqFV.js";import{a as V}from"./SalesOrderForms-BD5fZ2Wy.js";import{u as w,a as E}from"./UseFilter-Blar5lCV.js";import{a as P}from"./UseForm-BimrM1zK.js";import{u as K,S as Q,O as W,b as q,c as v,I as z}from"./InvenTreeTable-D26a1r6-.js";function Y({partId:m,customerId:i}){const p=K("sales-order"),l=R(),n=w(),c=E(),_=a.useMemo(()=>[{name:"status",label:e._({id:"uAQUqI"}),description:e._({id:"OIH7WF"}),choiceFunction:Q(o.salesorder)},W(),q(),v(),{name:"project_code",label:e._({id:"Sdfr6G"}),description:e._({id:"8sHFLc"}),choices:n.choices},{name:"has_project_code",label:e._({id:"e7gdBS"}),description:e._({id:"IuQlCq"})},{name:"assigned_to",label:e._({id:"XQACoK"}),description:e._({id:"OVVPn5"}),choices:c.choices}],[n.choices,c.choices]),b=V(),d=P({url:u.sales_order_list,title:e._({id:"VzdnWM"}),fields:b,initialData:{customer:i},follow:!0,modelType:o.salesorder}),C=a.useMemo(()=>[t.jsx(F,{tooltip:e._({id:"VzdnWM"}),onClick:()=>d.open(),hidden:!l.hasAddRole(I.sales_order)})],[l]),f=a.useMemo(()=>[S({}),{accessor:"customer__name",title:e._({id:"876pfE"}),sortable:!0,render:function(r){let s=r.customer_detail??{};return t.jsx(h,{src:s==null?void 0:s.image,alt:s.name,text:s.name})}},{accessor:"customer_reference",title:e._({id:"ZVUe1A"})},T({}),j(),A({model:o.salesorder}),O({}),x({}),M({}),g({}),y({}),{accessor:"total_price",title:e._({id:"KyZVKD"}),sortable:!0,render:r=>{var s;return D(r.total_price,{currency:r.order_currency??((s=r.customer_detail)==null?void 0:s.currency)})}}],[]);return t.jsxs(t.Fragment,{children:[d.modal,t.jsx(z,{url:U(u.sales_order_list),tableState:p,columns:f,props:{params:{customer_detail:!0,part:m,customer:i},tableFilters:_,tableActions:C,modelType:o.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{Y as S};
