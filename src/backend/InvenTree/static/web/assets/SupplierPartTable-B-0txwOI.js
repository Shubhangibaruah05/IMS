import{r,j as s,i as a,m as h}from"./vendor-B0vSnHFf.js";import{A as F}from"./AddItemButton-CD0U_4gd.js";import{T as f}from"./Instance-Co8OMzcE.js";import{a as j,A as p,U as n,e as M,M as E}from"./index-CDdQlqFV.js";import{a as P}from"./CompanyForms-Dy3Tzhcs.js";import{a as R,u as g,b as D}from"./UseForm-BimrM1zK.js";import{u as w,R as y,a as U,I as Q}from"./InvenTreeTable-D26a1r6-.js";import{a as B,D as L,B as N,g as S,L as O,N as q}from"./ColumnRenderers-CwItNORh.js";function Z({params:i}){const u=w("supplierparts"),l=j(),k=r.useMemo(()=>[{accessor:"part",switchable:"part"in i,sortable:!0,render:e=>B(e==null?void 0:e.part_detail)},{accessor:"supplier",sortable:!0,render:e=>{let t=(e==null?void 0:e.supplier_detail)??{};return t!=null&&t.pk?s.jsx(f,{src:(t==null?void 0:t.thumbnail)??t.image,text:t.name}):"-"}},{accessor:"SKU",title:a._({id:"nne72x"}),sortable:!0},L({}),{accessor:"manufacturer",sortable:!0,render:e=>{let t=(e==null?void 0:e.manufacturer_detail)??{};return t!=null&&t.pk?s.jsx(f,{src:(t==null?void 0:t.thumbnail)??t.image,text:t.name}):"-"}},{accessor:"MPN",sortable:!0,title:a._({id:"TOxiOu"}),render:e=>{var t;return(t=e==null?void 0:e.manufacturer_part_detail)==null?void 0:t.MPN}},N({accessor:"active",title:a._({id:"F6pfE9"}),sortable:!0,switchable:!0}),{accessor:"in_stock",sortable:!0},{accessor:"packaging",sortable:!0},{accessor:"pack_quantity",sortable:!0,render:e=>{let t=(e==null?void 0:e.part_detail)??{},x=[];return t.units&&x.push(s.jsxs(h,{children:[a._({id:"v9F5VO"})," : ",t.units]},"base")),s.jsx(S,{value:e.pack_quantity,extra:x,title:a._({id:"J9LTXQ"})})}},O({}),q({}),{accessor:"available",sortable:!0,render:e=>{let t=[];return e.availablility_updated&&t.push(s.jsxs(h,{children:[a._({id:"+b7T3G"})," : ",e.availablility_updated]})),s.jsx(S,{value:e.available,extra:t})}}],[i]),A=P(),o=R({url:p.supplier_part_list,title:a._({id:"EREF+D"}),fields:A,initialData:{part:i==null?void 0:i.part,supplier:i==null?void 0:i.supplier},table:u,successMessage:a._({id:"LjPQ/X"})}),T=r.useMemo(()=>[s.jsx(F,{tooltip:a._({id:"PsAftp"}),onClick:()=>o.open(),hidden:!l.hasAddRole(n.purchase_order)})],[l]),v=r.useMemo(()=>[{name:"active",label:a._({id:"F6pfE9"}),description:a._({id:"fPFpxB"})},{name:"part_active",label:a._({id:"9RQlSP"}),description:a._({id:"AS2E8V"})},{name:"supplier_active",label:a._({id:"2OQxz2"}),description:a._({id:"T+mlMU"})}],[]),d=P(),[c,_]=r.useState(0),m=g({url:p.supplier_part_list,pk:c,title:a._({id:"qZstuw"}),fields:d,table:u}),b=D({url:p.supplier_part_list,pk:c,title:a._({id:"9Qoago"}),table:u}),C=r.useCallback(e=>[y({hidden:!l.hasChangeRole(n.purchase_order),onClick:()=>{_(e.pk),m.open()}}),U({hidden:!l.hasDeleteRole(n.purchase_order),onClick:()=>{_(e.pk),b.open()}})],[l,d]);return s.jsxs(s.Fragment,{children:[o.modal,m.modal,b.modal,s.jsx(Q,{url:M(p.supplier_part_list),tableState:u,columns:k,props:{params:{...i,part_detail:!0,supplier_detail:!0,manufacturer_detail:!0},rowActions:C,enableDownload:!0,tableActions:T,tableFilters:v,modelType:E.supplierpart}})]})}export{Z as S};
