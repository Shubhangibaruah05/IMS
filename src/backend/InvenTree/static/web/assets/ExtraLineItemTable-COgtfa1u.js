import{r as i,i as a,j as n}from"./vendor-B0vSnHFf.js";import{A as y}from"./AddItemButton-CD0U_4gd.js";import{d as h,N as L,L as R}from"./ColumnRenderers-CwItNORh.js";import{e as b}from"./CommonForms-B4xIycy4.js";import{a as w,u as D,b as I}from"./UseForm-BimrM1zK.js";import{u as E,R as S,f as j,a as F,I as M}from"./InvenTreeTable-D26a1r6-.js";import{a as T,e as g}from"./index-CDdQlqFV.js";function O({endpoint:o,orderId:l,currency:k,role:t}){const r=E("extra-line-item"),s=T(),x=i.useMemo(()=>[{accessor:"reference",switchable:!1},{accessor:"description"},{accessor:"quantity",switchable:!1},{accessor:"price",title:a._({id:"vWelsN"}),render:e=>h(e.price,{currency:e.price_currency})},{accessor:"total_price",title:a._({id:"KyZVKD"}),render:e=>h(e.price,{currency:e.price_currency,multiplier:e.quantity})},L({accessor:"notes"}),R({accessor:"link"})],[]),[A,m]=i.useState({}),[u,p]=i.useState(0),c=w({url:o,title:a._({id:"pwb7Yo"}),fields:b(),initialData:{...A,price_currency:k},table:r}),d=D({url:o,pk:u,title:a._({id:"vgosWS"}),fields:b(),table:r}),f=I({url:o,pk:u,title:a._({id:"tpKh8C"}),table:r}),C=i.useCallback(e=>[S({hidden:!s.hasChangeRole(t),onClick:()=>{p(e.pk),d.open()}}),j({hidden:!s.hasAddRole(t),onClick:()=>{m({...e}),c.open()}}),F({hidden:!s.hasDeleteRole(t),onClick:()=>{p(e.pk),f.open()}})],[s,t]),_=i.useMemo(()=>[n.jsx(y,{tooltip:a._({id:"xnxWkO"}),hidden:!s.hasAddRole(t),onClick:()=>{m({order:l}),c.open()}})],[s,t]);return n.jsxs(n.Fragment,{children:[c.modal,d.modal,f.modal,n.jsx(M,{tableState:r,url:g(o),columns:x,props:{params:{order:l},rowActions:C,tableActions:_}})]})}export{O as E};
